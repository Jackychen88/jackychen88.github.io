<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>面向对象设计模式-策略模式</title>
      <link href="/2020/03/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"/>
      <url>/2020/03/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><h1 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h1><p>定义一个抽象的策略类，然后创建一系列实际的策略实现继承于抽象策略类，这些策略实现可以互相替换，调用类直接聚合抽象策略类，这样就可以让实际策略独立于调用者的调用</p><p><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20200227154420.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">@startuml</span><br><span class="line">class program &lt;&lt;call program&gt;&gt; </span><br><span class="line"></span><br><span class="line">class ycl_mrp</span><br><span class="line">abstract class ycl_strategy</span><br><span class="line">class ycl_strategy_z1</span><br><span class="line">class ycl_strategy_z2</span><br><span class="line"></span><br><span class="line">hide &lt;&lt;call program&gt;&gt; circle</span><br><span class="line">program --&gt; ycl_mrp</span><br><span class="line">ycl_mrp o--&gt; ycl_strategy</span><br><span class="line">ycl_strategy_z1 --|&gt; ycl_strategy</span><br><span class="line">ycl_strategy_z2 --|&gt; ycl_strategy</span><br><span class="line"></span><br><span class="line">class ycl_mrp&#123;</span><br><span class="line">- ycl_strategy mo_strategy</span><br><span class="line">+ set_strategy( )</span><br><span class="line">+ make_plan( )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">abstract class ycl_strategy&#123;</span><br><span class="line"> call_algorithm( )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class ycl_strategy_z1 &#123;</span><br><span class="line"> call_algorithm( )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class ycl_strategy_z2 &#123;</span><br><span class="line"> call_algorithm( )</span><br><span class="line">&#125;</span><br><span class="line">@enduml</span><br></pre></td></tr></table></figure><h1 id="CLASS代码"><a href="#CLASS代码" class="headerlink" title="CLASS代码"></a>CLASS代码</h1><h2 id="YCL-MRP"><a href="#YCL-MRP" class="headerlink" title="YCL_MRP"></a>YCL_MRP</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">class YCL_MRP definition</span><br><span class="line">  public</span><br><span class="line">  final</span><br><span class="line">  create public .</span><br><span class="line"></span><br><span class="line">public section.</span><br><span class="line"></span><br><span class="line">  methods SET_STRATEGY</span><br><span class="line">    importing</span><br><span class="line">      !IO_STRATEGY type ref to YCL_STRATEGY .</span><br><span class="line">  methods MAKE_PLAN .</span><br><span class="line">protected section.</span><br><span class="line">private section.</span><br><span class="line"></span><br><span class="line">  data MO_STRATEGY type ref to YCL_STRATEGY .</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS YCL_MRP IMPLEMENTATION.</span><br><span class="line">* &lt;SIGNATURE&gt;---------------------------------------------------------------------------------------+</span><br><span class="line">* | Instance Public Method YCL_MRP-&gt;MAKE_PLAN</span><br><span class="line">* +-------------------------------------------------------------------------------------------------+</span><br><span class="line">* +--------------------------------------------------------------------------------------&lt;/SIGNATURE&gt;</span><br><span class="line">  method MAKE_PLAN.</span><br><span class="line"></span><br><span class="line">    IF MO_STRATEGY IS BOUND.</span><br><span class="line"></span><br><span class="line">      MO_STRATEGY-&gt;CALL_ALGORITHM( ).</span><br><span class="line"></span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">  endmethod.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* &lt;SIGNATURE&gt;---------------------------------------------------------------------------------------+</span><br><span class="line">* | Instance Public Method YCL_MRP-&gt;SET_STRATEGY</span><br><span class="line">* +-------------------------------------------------------------------------------------------------+</span><br><span class="line">* | [---&gt;] IO_STRATEGY                    TYPE REF TO YCL_STRATEGY</span><br><span class="line">* +--------------------------------------------------------------------------------------&lt;/SIGNATURE&gt;</span><br><span class="line">  METHOD SET_STRATEGY.</span><br><span class="line"></span><br><span class="line">    IF IO_STRATEGY IS BOUND.</span><br><span class="line">      MO_STRATEGY = IO_STRATEGY.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line">ENDCLASS.</span><br></pre></td></tr></table></figure><h2 id="YCL-STRATEGY"><a href="#YCL-STRATEGY" class="headerlink" title="YCL_STRATEGY"></a>YCL_STRATEGY</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">class YCL_STRATEGY definition</span><br><span class="line">  public</span><br><span class="line">  abstract</span><br><span class="line">  create public</span><br><span class="line"></span><br><span class="line">  global friends YCL_MRP .</span><br><span class="line"></span><br><span class="line">public section.</span><br><span class="line">protected section.</span><br><span class="line"></span><br><span class="line">  methods CALL_ALGORITHM .</span><br><span class="line">private section.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS YCL_STRATEGY IMPLEMENTATION.</span><br><span class="line">* &lt;SIGNATURE&gt;---------------------------------------------------------------------------------------+</span><br><span class="line">* | Instance Protected Method YCL_STRATEGY-&gt;CALL_ALGORITHM</span><br><span class="line">* +-------------------------------------------------------------------------------------------------+</span><br><span class="line">* +--------------------------------------------------------------------------------------&lt;/SIGNATURE&gt;</span><br><span class="line">  method CALL_ALGORITHM.</span><br><span class="line">  endmethod.</span><br><span class="line">ENDCLASS.</span><br></pre></td></tr></table></figure><h2 id="YCL-STRATEGY-Z1"><a href="#YCL-STRATEGY-Z1" class="headerlink" title="YCL_STRATEGY_Z1"></a>YCL_STRATEGY_Z1</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">class YCL_STRATEGY_Z1 definition</span><br><span class="line">  public</span><br><span class="line">  inheriting from YCL_STRATEGY</span><br><span class="line">  final</span><br><span class="line">  create public .</span><br><span class="line"></span><br><span class="line">public section.</span><br><span class="line">protected section.</span><br><span class="line"></span><br><span class="line">  methods CALL_ALGORITHM</span><br><span class="line">    redefinition .</span><br><span class="line">private section.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CLASS YCL_STRATEGY_Z1 IMPLEMENTATION.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">* &lt;SIGNATURE&gt;---------------------------------------------------------------------------------------+</span><br><span class="line">* | Instance Protected Method YCL_STRATEGY_Z1-&gt;CALL_ALGORITHM</span><br><span class="line">* +-------------------------------------------------------------------------------------------------+</span><br><span class="line">* +--------------------------------------------------------------------------------------&lt;/SIGNATURE&gt;</span><br><span class="line">  method CALL_ALGORITHM.</span><br><span class="line">    WRITE:/ &apos;执行策略1跑MRP&apos;.</span><br><span class="line">  endmethod.</span><br><span class="line">ENDCLASS.</span><br></pre></td></tr></table></figure><h2 id="YCL-STRATEGY-Z2"><a href="#YCL-STRATEGY-Z2" class="headerlink" title="YCL_STRATEGY_Z2"></a>YCL_STRATEGY_Z2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">class YCL_STRATEGY_Z2 definition</span><br><span class="line">  public</span><br><span class="line">  inheriting from YCL_STRATEGY</span><br><span class="line">  final</span><br><span class="line">  create public .</span><br><span class="line"></span><br><span class="line">public section.</span><br><span class="line">protected section.</span><br><span class="line"></span><br><span class="line">  methods CALL_ALGORITHM</span><br><span class="line">    redefinition .</span><br><span class="line">private section.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS YCL_STRATEGY_Z2 IMPLEMENTATION.</span><br><span class="line">* &lt;SIGNATURE&gt;---------------------------------------------------------------------------------------+</span><br><span class="line">* | Instance Protected Method YCL_STRATEGY_Z2-&gt;CALL_ALGORITHM</span><br><span class="line">* +-------------------------------------------------------------------------------------------------+</span><br><span class="line">* +--------------------------------------------------------------------------------------&lt;/SIGNATURE&gt;</span><br><span class="line">  method CALL_ALGORITHM.</span><br><span class="line">    WRITE:/ &apos;执行策略2跑MRP&apos;.</span><br><span class="line">  endmethod.</span><br><span class="line">ENDCLASS.</span><br></pre></td></tr></table></figure><h1 id="调用程序"><a href="#调用程序" class="headerlink" title="调用程序"></a>调用程序</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">*---6.策略模式</span><br><span class="line">  DATA:</span><br><span class="line">    GO_MRP TYPE REF TO YCL_MRP,</span><br><span class="line">    GO_STRATEGY TYPE REF TO YCL_STRATEGY.</span><br><span class="line">  TRY .</span><br><span class="line">*---动态创建对象</span><br><span class="line">    GO_MRP = NEW YCL_MRP( ).</span><br><span class="line"></span><br><span class="line">    CREATE OBJECT GO_STRATEGY TYPE (&apos;YCL_STRATEGY_Z1&apos;).</span><br><span class="line">    GO_MRP-&gt;SET_STRATEGY( GO_STRATEGY ).</span><br><span class="line">    GO_MRP-&gt;MAKE_PLAN( ).</span><br><span class="line"></span><br><span class="line">    CREATE OBJECT GO_STRATEGY TYPE (&apos;YCL_STRATEGY_Z2&apos;).</span><br><span class="line">    GO_MRP-&gt;SET_STRATEGY( GO_STRATEGY ).</span><br><span class="line">    GO_MRP-&gt;MAKE_PLAN( ).</span><br><span class="line">  CATCH CX_SY_CREATE_OBJECT_ERROR INTO RX_REF.</span><br><span class="line">    TXT = RX_REF-&gt;GET_TEXT( ).</span><br><span class="line">    MESSAGE TXT TYPE &apos;I&apos;.</span><br><span class="line">  ENDTRY.</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20200227160501.png" alt=""></p>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> OO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>递归查找数值的组合方式</title>
      <link href="/2019/06/05/%E9%80%92%E5%BD%92%E6%9F%A5%E6%89%BE%E6%95%B0%E5%80%BC%E7%9A%84%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F/"/>
      <url>/2019/06/05/%E9%80%92%E5%BD%92%E6%9F%A5%E6%89%BE%E6%95%B0%E5%80%BC%E7%9A%84%E7%BB%84%E5%90%88%E6%96%B9%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>近段时间一致在调整财务报表和调查金额差异，经常会有一个场景：用户提供的总金额和我导出的汇总金额有差异，我希望能通过这个差异值定位到对应明细的具体行项上去（当然是凑数据），当数据量少时还能人为凑一下，数据量一大，脑子就不够用，而且排列组合的可能性很大。</p><ul><li>举个例子,以下金额中需要找到差异189198，当然可以生凑几种可能譬如15786+173412，也就是行3和行6漏了导致差异，但数据一多，就不那么好算了，而且可能的组合也很容易遗漏<br>  | 行项 | 金额    |<br>  | —- | ——- |<br>  | 1    | 60      |<br>  | 2    | 4567    |<br>  | 3    | 15786   |<br>  | 4    | 94258   |<br>  | 5    | 142,031 |<br>  | 6    | 173412  |<br>  | 7    | 176732  |<br>  | 8    | 219000  |<br>  | 9    | 256539  |</li></ul><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>通过递归遍历让系统暴力的排列组合，凑出一致的值，源码如下<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190605111139.png" alt=""><br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190605111210.png" alt=""></p><h1 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report  YTEST_JK114</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">REPORT YTEST_JK114.</span><br><span class="line"></span><br><span class="line">TYPES:</span><br><span class="line">  BEGIN OF TY_TABLE,</span><br><span class="line">    QTY TYPE P DECIMALS 2,</span><br><span class="line">  END OF TY_TABLE,</span><br><span class="line">  TTY_TABLE TYPE STANDARD TABLE OF TY_TABLE.</span><br><span class="line">****************************************************************</span><br><span class="line">*CLASS 定义</span><br><span class="line">****************************************************************</span><br><span class="line">CLASS LCL_CX_CHECK_ERR DEFINITION INHERITING FROM CX_STATIC_CHECK.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    METHODS: CONSTRUCTOR.</span><br><span class="line">ENDCLASS.</span><br><span class="line">CLASS LCL_SPOT DEFINITION.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    CLASS-DATA:</span><br><span class="line">      MT_RECORD TYPE TTY_TABLE.</span><br><span class="line"></span><br><span class="line">    DATA:</span><br><span class="line">      MV_INDEX TYPE I,</span><br><span class="line">      MV_START TYPE I,</span><br><span class="line">      MV_VALUE TYPE P DECIMALS 2.</span><br><span class="line"></span><br><span class="line">    METHODS:</span><br><span class="line">      CONSTRUCTOR IMPORTING IT_RECORD TYPE TTY_TABLE,</span><br><span class="line">      CHANG IMPORTING IV_INDEX TYPE I RAISING LCL_CX_CHECK_ERR,</span><br><span class="line">      CHANG_NEXT RAISING LCL_CX_CHECK_ERR,</span><br><span class="line">      SET_START IMPORTING IV_INDEX_START TYPE I.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS LCL_SPOTS DEFINITION.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    TYPES:</span><br><span class="line">      BEGIN OF TY_SPOT,</span><br><span class="line">        LO_SPOT TYPE REF TO LCL_SPOT,</span><br><span class="line">      END OF TY_SPOT,</span><br><span class="line">      TTY_SPOT TYPE STANDARD TABLE OF TY_SPOT.</span><br><span class="line">    DATA:</span><br><span class="line">      MT_SPOT       TYPE TTY_SPOT,</span><br><span class="line">      MV_FIND_VALUE TYPE P DECIMALS 2.</span><br><span class="line"></span><br><span class="line">    METHODS:</span><br><span class="line">      CONSTRUCTOR IMPORTING IV_FIND TYPE ANY,</span><br><span class="line">      ADD_SPOT IMPORTING IO_SPOT TYPE REF TO LCL_SPOT,</span><br><span class="line">      ACTIVE_SPOT IMPORTING IV_INDEX TYPE I CHANGING OO_SPOT TYPE REF TO LCL_SPOT RAISING LCL_CX_CHECK_ERR,</span><br><span class="line">      REVIEW  RETURNING VALUE(OV_FLG_EQ) TYPE CHAR1,</span><br><span class="line">      WRITE_RESULT,</span><br><span class="line">      REST_INDEX.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">****************************************************************</span><br><span class="line">*CLASS 实现</span><br><span class="line">****************************************************************</span><br><span class="line">CLASS LCL_SPOT IMPLEMENTATION.</span><br><span class="line">  METHOD CONSTRUCTOR.</span><br><span class="line"></span><br><span class="line">    MT_RECORD = IT_RECORD.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CHANG.</span><br><span class="line"></span><br><span class="line">    READ TABLE MT_RECORD INTO DATA(LS_RECORD) INDEX IV_INDEX.</span><br><span class="line">    IF SY-SUBRC = 0.</span><br><span class="line">      ME-&gt;MV_INDEX = IV_INDEX.</span><br><span class="line">      ME-&gt;MV_VALUE = LS_RECORD-QTY.</span><br><span class="line">    ELSE.</span><br><span class="line">      CLEAR ME-&gt;MV_INDEX.</span><br><span class="line">      DATA(R_CX) = NEW LCL_CX_CHECK_ERR( ).</span><br><span class="line">      RAISE EXCEPTION R_CX.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CHANG_NEXT.</span><br><span class="line">    IF MV_START &gt; MV_INDEX + 1.</span><br><span class="line">      ME-&gt;MV_INDEX = MV_START.</span><br><span class="line">    ELSE.</span><br><span class="line">      ME-&gt;MV_INDEX = ME-&gt;MV_INDEX + 1.</span><br><span class="line">    ENDIF.</span><br><span class="line">    TRY .</span><br><span class="line">        ME-&gt;CHANG( ME-&gt;MV_INDEX ).</span><br><span class="line">      CATCH LCL_CX_CHECK_ERR INTO DATA(LO_EXC).</span><br><span class="line">        RAISE EXCEPTION LO_EXC.</span><br><span class="line">    ENDTRY.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD SET_START.</span><br><span class="line">    MV_START = IV_INDEX_START.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS LCL_SPOTS IMPLEMENTATION.</span><br><span class="line">  METHOD CONSTRUCTOR.</span><br><span class="line">    ME-&gt;MV_FIND_VALUE = IV_FIND.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line">  METHOD ADD_SPOT.</span><br><span class="line">    APPEND INITIAL LINE TO MT_SPOT ASSIGNING FIELD-SYMBOL(&lt;FS_SPOT&gt;).</span><br><span class="line">    &lt;FS_SPOT&gt;-LO_SPOT = IO_SPOT.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD ACTIVE_SPOT.</span><br><span class="line">    READ TABLE MT_SPOT ASSIGNING FIELD-SYMBOL(&lt;FS_SPOT_A&gt;) INDEX IV_INDEX.</span><br><span class="line">    IF SY-SUBRC = 0.</span><br><span class="line">      OO_SPOT = &lt;FS_SPOT_A&gt;-LO_SPOT.</span><br><span class="line">    ELSE.</span><br><span class="line">      DATA(R_CX) = NEW LCL_CX_CHECK_ERR( ).</span><br><span class="line">      RAISE EXCEPTION R_CX.</span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD REVIEW.</span><br><span class="line">    DATA:</span><br><span class="line">      LV_VALUE_SUM TYPE P DECIMALS 2.</span><br><span class="line">    LOOP AT MT_SPOT INTO DATA(LS_SPOT).</span><br><span class="line">      LV_VALUE_SUM = LV_VALUE_SUM + LS_SPOT-LO_SPOT-&gt;MV_VALUE.</span><br><span class="line">    ENDLOOP.</span><br><span class="line">    IF LV_VALUE_SUM = ME-&gt;MV_FIND_VALUE.</span><br><span class="line">      OV_FLG_EQ = &apos;X&apos;.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD WRITE_RESULT.</span><br><span class="line">    ULINE.</span><br><span class="line">    LOOP AT MT_SPOT INTO DATA(LS_SPOT).</span><br><span class="line"></span><br><span class="line">      WRITE:/0(5)  LS_SPOT-LO_SPOT-&gt;MV_INDEX,</span><br><span class="line">             8(15) LS_SPOT-LO_SPOT-&gt;MV_VALUE.</span><br><span class="line">    ENDLOOP.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD REST_INDEX.</span><br><span class="line">    LOOP AT MT_SPOT ASSIGNING FIELD-SYMBOL(&lt;FS_SPOT&gt;).</span><br><span class="line">      CLEAR:</span><br><span class="line">      &lt;FS_SPOT&gt;-LO_SPOT-&gt;MV_START,</span><br><span class="line">      &lt;FS_SPOT&gt;-LO_SPOT-&gt;MV_INDEX,</span><br><span class="line">      &lt;FS_SPOT&gt;-LO_SPOT-&gt;MV_VALUE.</span><br><span class="line">    ENDLOOP.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS LCL_CX_CHECK_ERR IMPLEMENTATION.</span><br><span class="line">  METHOD CONSTRUCTOR.</span><br><span class="line">    SUPER-&gt;CONSTRUCTOR( ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">SELECTION-SCREEN COMMENT /1(50) comm1.</span><br><span class="line">PARAMETERS:</span><br><span class="line">  P_FIND TYPE P DECIMALS 2 OBLIGATORY.</span><br><span class="line"></span><br><span class="line">AT SELECTION-SCREEN OUTPUT.</span><br><span class="line">  comm1 = &apos;先将待搜索的数据Ctrl+V,再输入要搜索的值&apos;.</span><br><span class="line"></span><br><span class="line">START-OF-SELECTION.</span><br><span class="line"></span><br><span class="line">  DATA:</span><br><span class="line">    GT_TABLE    TYPE TTY_TABLE,</span><br><span class="line">    GV_FIND_QTY TYPE P DECIMALS 2.</span><br><span class="line">*</span><br><span class="line">*  GT_TABLE = VALUE #(</span><br><span class="line">*  ( QTY = &apos;60&apos; )</span><br><span class="line">*  ( QTY = &apos;4567.00&apos; )</span><br><span class="line">*  ( QTY = &apos;15786.00&apos; )</span><br><span class="line">*  ( QTY = &apos;94258.00&apos; )</span><br><span class="line">*  ( QTY = &apos;142031.00&apos; )</span><br><span class="line">*  ( QTY = &apos;173412.00&apos; )</span><br><span class="line">*  ( QTY = &apos;176732.00&apos; )</span><br><span class="line">*  ( QTY = &apos;219000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;256539.00&apos; )</span><br><span class="line">*  ( QTY = &apos;480000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;509029.00&apos; )</span><br><span class="line">*  ( QTY = &apos;635948.00&apos; )</span><br><span class="line">*  ( QTY = &apos;648000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;712282.00&apos; )</span><br><span class="line">*  ( QTY = &apos;807975.00&apos; )</span><br><span class="line">*  ( QTY = &apos;840000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;864977.00&apos; )</span><br><span class="line">*  ( QTY = &apos;886000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;946382.00&apos; )</span><br><span class="line">*  ( QTY = &apos;973933.00&apos; )</span><br><span class="line">*  ( QTY = &apos;984186.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1084195.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1110000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1200000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1233000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1233735.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1255344.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1260000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1262966.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1275852.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1276273.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1351000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1385374.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1391320.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1423015.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1477120.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1503047.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1546855.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1600657.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1660722.00&apos; )</span><br><span class="line">*  ( QTY = &apos;1971881.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2004000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2006651.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2315000.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2318935.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2448818.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2533761.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2543906.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2656225.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2689511.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2694999.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2732194.00&apos; )</span><br><span class="line">*  ( QTY = &apos;2883310.00&apos; )</span><br><span class="line">*  ( QTY = &apos;3098557.00&apos; )</span><br><span class="line">*  ( QTY = &apos;3288958.00&apos; )</span><br><span class="line">*  ( QTY = &apos;3799806.00&apos; )</span><br><span class="line">*  ( QTY = &apos;4282019.00&apos; )</span><br><span class="line">*  ( QTY = &apos;4842045.00&apos; )</span><br><span class="line">*  ( QTY = &apos;5280762.00&apos; )</span><br><span class="line">*  ( QTY = &apos;5937580.00&apos; )</span><br><span class="line">*  ( QTY = &apos;7148457.00&apos; )</span><br><span class="line">*  ( QTY = &apos;8435181.00&apos; )</span><br><span class="line">*  ( QTY = &apos;12369852.00&apos; )</span><br><span class="line">*  ).</span><br><span class="line"></span><br><span class="line">  GV_FIND_QTY = P_FIND.</span><br><span class="line">  PERFORM CLIPTOITAB TABLES GT_TABLE[].</span><br><span class="line"></span><br><span class="line">  IF GT_TABLE IS INITIAL.</span><br><span class="line">    MESSAGE S000(00) WITH &apos;剪贴板无数据&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">    LEAVE LIST-PROCESSING.</span><br><span class="line">  ENDIF.</span><br><span class="line"></span><br><span class="line">*---执行检查</span><br><span class="line">  PERFORM FRM_CHECK.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;      Form  FRM_CHECK</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*  执行检查</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">FORM FRM_CHECK .</span><br><span class="line">  DATA:</span><br><span class="line">    LV_FLG_EQ      TYPE CHAR1,</span><br><span class="line">    LV_INDEX       TYPE I,</span><br><span class="line">    LR_SPOT        TYPE REF TO LCL_SPOT,</span><br><span class="line">    LR_SPOT_ACTIVE TYPE REF TO LCL_SPOT,</span><br><span class="line">    LR_SPOTS       TYPE REF TO LCL_SPOTS.</span><br><span class="line"></span><br><span class="line">*  SORT GT_TABLE BY QTY DESCENDING.</span><br><span class="line">*  GV_FIND_QTY = &apos;19084708.00&apos;.</span><br><span class="line">  LR_SPOTS = NEW LCL_SPOTS( IV_FIND = GV_FIND_QTY ).</span><br><span class="line">  LR_SPOT = NEW LCL_SPOT( IT_RECORD = GT_TABLE ) .</span><br><span class="line"></span><br><span class="line">  DATA(LV_LINES) = LINES( GT_TABLE ).</span><br><span class="line"></span><br><span class="line">  DO LV_LINES TIMES.</span><br><span class="line"></span><br><span class="line">    CALL FUNCTION &apos;SAPGUI_PROGRESS_INDICATOR&apos;</span><br><span class="line">      EXPORTING</span><br><span class="line">        TEXT = |已探索了&#123; SY-INDEX &#125;层|.</span><br><span class="line"></span><br><span class="line">    LR_SPOT = NEW LCL_SPOT( IT_RECORD = GT_TABLE ) .</span><br><span class="line">    LR_SPOTS-&gt;ADD_SPOT( LR_SPOT ).</span><br><span class="line"></span><br><span class="line">    LV_INDEX = 1.</span><br><span class="line">    PERFORM FRM_RUN USING 1</span><br><span class="line">                          1</span><br><span class="line">                 CHANGING LR_SPOTS</span><br><span class="line">                          LV_FLG_EQ.</span><br><span class="line"></span><br><span class="line">    LR_SPOTS-&gt;REST_INDEX( ).</span><br><span class="line"></span><br><span class="line">  ENDDO.</span><br><span class="line">ENDFORM.</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;      Form  FRM_RUN</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*       递归</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">FORM FRM_RUN USING IV_INDEX TYPE I</span><br><span class="line">                    IV_INDEX_START TYPE I</span><br><span class="line">           CHANGING OR_SPOTS TYPE REF TO LCL_SPOTS</span><br><span class="line">                    OV_FLG_EQ TYPE CHAR1.</span><br><span class="line">  DATA:</span><br><span class="line">    LV_FLG_SKIP      TYPE CHAR1,</span><br><span class="line">    LV_INDEX         TYPE I,</span><br><span class="line">    LV_INDEX_NEXT    TYPE I,</span><br><span class="line">    LV_INDEX_ST_NEXT TYPE I,</span><br><span class="line">    LR_SPOT_ACTIVE   TYPE REF TO LCL_SPOT.</span><br><span class="line"></span><br><span class="line">  DO.</span><br><span class="line">    IF OV_FLG_EQ EQ &apos;X&apos;.</span><br><span class="line">      EXIT.</span><br><span class="line">    ENDIF.</span><br><span class="line">    TRY .</span><br><span class="line">        OR_SPOTS-&gt;ACTIVE_SPOT( EXPORTING IV_INDEX = IV_INDEX CHANGING OO_SPOT = LR_SPOT_ACTIVE ).</span><br><span class="line"></span><br><span class="line">        IF LR_SPOT_ACTIVE IS NOT INITIAL.</span><br><span class="line">          LR_SPOT_ACTIVE-&gt;SET_START( IV_INDEX_START ).</span><br><span class="line">          LR_SPOT_ACTIVE-&gt;CHANG_NEXT( ).</span><br><span class="line"></span><br><span class="line">          LV_INDEX_NEXT = IV_INDEX + 1.</span><br><span class="line">          LV_INDEX_ST_NEXT = LR_SPOT_ACTIVE-&gt;MV_INDEX + 1.</span><br><span class="line">          PERFORM FRM_RUN USING LV_INDEX_NEXT</span><br><span class="line">                                LV_INDEX_ST_NEXT</span><br><span class="line">                       CHANGING OR_SPOTS</span><br><span class="line">                                OV_FLG_EQ.</span><br><span class="line">        ENDIF.</span><br><span class="line">      CATCH LCL_CX_CHECK_ERR.</span><br><span class="line">        LV_FLG_SKIP = &apos;X&apos;.</span><br><span class="line">    ENDTRY.</span><br><span class="line"></span><br><span class="line">    IF LV_FLG_SKIP = &apos;X&apos;.</span><br><span class="line"></span><br><span class="line">      OV_FLG_EQ = OR_SPOTS-&gt;REVIEW( ).</span><br><span class="line">      IF OV_FLG_EQ  = &apos;X&apos;.</span><br><span class="line">        OR_SPOTS-&gt;WRITE_RESULT( ).</span><br><span class="line">        EXIT.</span><br><span class="line">      ENDIF.</span><br><span class="line"></span><br><span class="line">      EXIT.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">  ENDDO.</span><br><span class="line"></span><br><span class="line">ENDFORM.</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*  剪贴板数据到内表，根据制表符分割</span><br><span class="line">*  如果有数据类型错误，比如内表是数值型但是剪贴板里面是字母，</span><br><span class="line">*  则弹出W消息，并忽略这条数据</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">FORM CLIPTOITAB TABLES ITAB.</span><br><span class="line">  DATA: HTAB TYPE C VALUE CL_ABAP_CHAR_UTILITIES=&gt;HORIZONTAL_TAB .</span><br><span class="line">  DATA: LT_CLIP TYPE TABLE OF CHAR2048 WITH HEADER LINE,</span><br><span class="line">        LT_FLD  TYPE TABLE OF CHAR2048 WITH HEADER LINE.</span><br><span class="line">  DATA: CXROOT TYPE REF TO CX_ROOT,</span><br><span class="line">        EXCMSG TYPE        STRING.</span><br><span class="line">  FIELD-SYMBOLS:&lt;FS_FLD&gt; ,</span><br><span class="line">                &lt;FS_TAB&gt; .</span><br><span class="line"></span><br><span class="line">  ASSIGN ITAB TO &lt;FS_TAB&gt; .</span><br><span class="line"></span><br><span class="line">  CALL METHOD CL_GUI_FRONTEND_SERVICES=&gt;CLIPBOARD_IMPORT</span><br><span class="line">    IMPORTING</span><br><span class="line">      DATA                 = LT_CLIP[]</span><br><span class="line">    EXCEPTIONS</span><br><span class="line">      CNTL_ERROR           = 1</span><br><span class="line">      ERROR_NO_GUI         = 2</span><br><span class="line">      NOT_SUPPORTED_BY_GUI = 3</span><br><span class="line">      OTHERS               = 4.</span><br><span class="line">  IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">    MESSAGE ID SY-MSGID TYPE SY-MSGTY NUMBER SY-MSGNO</span><br><span class="line">      WITH SY-MSGV1 SY-MSGV2 SY-MSGV3 SY-MSGV4  .</span><br><span class="line">  ELSE.</span><br><span class="line">    CALL METHOD CL_GUI_CFW=&gt;FLUSH .</span><br><span class="line">    LOOP AT LT_CLIP.</span><br><span class="line">      CLEAR LT_FLD[].</span><br><span class="line">      SPLIT LT_CLIP AT HTAB INTO TABLE LT_FLD.</span><br><span class="line">      LOOP AT LT_FLD.</span><br><span class="line">        ASSIGN COMPONENT SY-TABIX OF STRUCTURE &lt;FS_TAB&gt; TO &lt;FS_FLD&gt;.</span><br><span class="line">        CHECK SY-SUBRC = 0.</span><br><span class="line">        TRY .</span><br><span class="line">            LT_FLD = TRANSLATE( VAL = LT_FLD FROM = |\r| TO = &apos;&apos; ).</span><br><span class="line">            LT_FLD = TRANSLATE( VAL = LT_FLD FROM = |\n| TO = &apos;&apos; ).</span><br><span class="line">            LT_FLD = TRANSLATE( VAL = LT_FLD FROM = |&quot;| TO = &apos;&apos; ).</span><br><span class="line"></span><br><span class="line">            CALL FUNCTION &apos;OIU_ME_CHAR_TO_NUMBER&apos;</span><br><span class="line">              EXPORTING</span><br><span class="line">                I_CHAR               = LT_FLD</span><br><span class="line">              IMPORTING</span><br><span class="line">*               E_FLOAT              =</span><br><span class="line">                E_PACKED             = &lt;FS_FLD&gt;</span><br><span class="line">              EXCEPTIONS</span><br><span class="line">               INVALID_NUMBER       = 1</span><br><span class="line">               OTHERS               = 2</span><br><span class="line">                      .</span><br><span class="line">*            &lt;FS_FLD&gt; = LT_FLD.</span><br><span class="line">            IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">* Implement suitable error handling here</span><br><span class="line">            ENDIF.</span><br><span class="line"></span><br><span class="line">          CATCH  CX_ROOT INTO CXROOT.</span><br><span class="line">            EXCMSG = CXROOT-&gt;GET_TEXT( ).</span><br><span class="line">        ENDTRY.</span><br><span class="line">      ENDLOOP.</span><br><span class="line">      APPEND ITAB .</span><br><span class="line">      CLEAR ITAB.</span><br><span class="line">    ENDLOOP.</span><br><span class="line">    IF EXCMSG IS NOT INITIAL.</span><br><span class="line">      MESSAGE W000(OO) WITH &apos;数据转换有错误发生，已经忽略&apos;.</span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDIF.</span><br><span class="line">ENDFORM.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> 递归，工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>从REPOSRC表读取SAP程序源码</title>
      <link href="/2019/01/27/%E4%BB%8EREPOSRC%E8%A1%A8%E8%AF%BB%E5%8F%96SAP%E7%A8%8B%E5%BA%8F%E6%BA%90%E7%A0%81/"/>
      <url>/2019/01/27/%E4%BB%8EREPOSRC%E8%A1%A8%E8%AF%BB%E5%8F%96SAP%E7%A8%8B%E5%BA%8F%E6%BA%90%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>SAP 有标准的关键key <strong>READ REPORT</strong>来获取程序的源码，但我很好奇这个key底层是如何工作的，很好奇SAP到底是以何种方式来保存源码的，因此有以下的调查</p><h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>首先想到肯定SAP是把代码存放在数据库的，不管是加密的，压缩的，还是编译的肯定需要DB存储的。通过各种方法找到了源码疑似存放的数据库</p><ul><li><strong>REPOSRC</strong> :DATA栏位存放了代码压缩后的二进制数据<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127094036.png" alt="REPOSRC"></li><li><strong>REPOLOAD</strong>:LDATA和QDATA分别存放了压缩后的编译代码二进制数据和未压缩的编译代码二进制<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127094133.png" alt="REPOLOAD"></li></ul><h1 id="还原方法"><a href="#还原方法" class="headerlink" title="还原方法"></a>还原方法</h1><ol><li>首先我判断出来REPOLOAD是SAP内部编译的数据，进行了解压转换编码处理后，得到的是编译代码，无法还原成我们能理解的ABAP语言（SAP原厂内部肯定能通过编译代码反编译源码，但SAP是不开放的）</li><li>那么就考虑从REPOSRC的DATA栏位来还原代码吧，信息肯定保存在DATA栏位，并且肯定是压缩过的（毕竟栏位描述就叫Compressed）那么肯定有一个压缩算法</li><li>通过bing查到了<a href="https://www.daniel-berlin.de/devel/sap-dev/decompress-abap-source-code/" target="_blank" rel="noopener">SAP源码压缩方式</a><ul><li><code>The code stored in REPOSRC-DATA is actually compressed using the LZH algorithm (Lempel-Ziv plus Huffman coding), which is used by the SAP DB MaxDB database too</code></li><li>Lempel-Ziv压缩方式具体是什么不清楚，好在外国大牛自己用C++写了个解压工具，我们直接拿来用就可以了</li></ul></li><li>下载<a href="https://github.com/daberlin/sap-reposrc-decompressor/releases" target="_blank" rel="noopener">解压算法工具</a>，解压zip文件</li><li>打开Visual Sudio（我的是2013），点击文件-&gt;新建-&gt;项目创建一个win32的控制台命令程序<br><br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127132150.png" alt="创建一个win32的控制台命令程序"><br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127132321.png" alt="空项目"></li><li>在资源管理器的源文件中右键选中源文件，点击添加-&gt;现有项把刚才下载解压文件中的.cpp导入进去，然后在资源文件夹上右键同样导入刚才解压文件中lib的所有资源<br><br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127132435.png" alt="导入解压工具"></li><li>点击执行，生成exe执行文件,至此解压工具生成完毕，也可以直接<a href="https://www.daniel-berlin.de/wp-content/uploads/2015/08/sap-reposrc-decompressor-1.1.1.zip" target="_blank" rel="noopener">下载解压工具exe</a><br><br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127132826.png" alt="生成解压exe"></li><li><p>将SAP数据库中的DATA栏位以二进制Bin的格式下载到本地文件中去，源码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report ZS_REPOSRC_DOWNLOAD</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Purpose: Download compressed source code from table REPOSRC</span><br><span class="line">*&amp; Author : Daniel Berlin</span><br><span class="line">*&amp; Version: 1.0.1</span><br><span class="line">*&amp; License: CC BY 3.0 (http://creativecommons.org/licenses/by/3.0/)</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line"></span><br><span class="line">REPORT ZS_REPOSRC_DOWNLOAD.</span><br><span class="line"></span><br><span class="line">DATA: V_FNAM TYPE RLGRAP-FILENAME,  &quot; Local file name</span><br><span class="line">      V_FILE TYPE STRING,           &quot; Same, but as a string</span><br><span class="line">      V_XSTR TYPE XSTRING,          &quot; Source (compressed)</span><br><span class="line">      V_XLEN TYPE I,                &quot; Length of source</span><br><span class="line">      T_XTAB TYPE TABLE OF X255.    &quot; Source plugged into a table</span><br><span class="line"></span><br><span class="line">PARAMETERS: REPORT TYPE PROGNAME DEFAULT SY-REPID           &quot;#EC *</span><br><span class="line">                  MATCHCODE OBJECT PROGNAME OBLIGATORY.</span><br><span class="line"></span><br><span class="line">START-OF-SELECTION.</span><br><span class="line"></span><br><span class="line">  &quot; -- Select local file name</span><br><span class="line">  WHILE V_FNAM IS INITIAL.</span><br><span class="line">    V_FNAM = REPORT.</span><br><span class="line"></span><br><span class="line">    CALL FUNCTION &apos;NAVIGATION_FILENAME_HELP&apos;</span><br><span class="line">      EXPORTING</span><br><span class="line">        DEFAULT_PATH      = V_FNAM</span><br><span class="line">        MODE              = &apos;S&apos;</span><br><span class="line">      IMPORTING</span><br><span class="line">        SELECTED_FILENAME = V_FNAM.</span><br><span class="line">  ENDWHILE.</span><br><span class="line"></span><br><span class="line">  V_FILE = V_FNAM.</span><br><span class="line"></span><br><span class="line">  &quot; -- Fetch compressed source code</span><br><span class="line">  SELECT SINGLE DATA INTO V_XSTR FROM REPOSRC</span><br><span class="line">          WHERE PROGNAME = REPORT AND R3STATE = &apos;A&apos;.</span><br><span class="line"></span><br><span class="line">  V_XLEN = XSTRLEN( V_XSTR ).</span><br><span class="line"></span><br><span class="line">  &quot; -- Plug source into a table</span><br><span class="line">  CALL METHOD CL_SWF_UTL_CONVERT_XSTRING=&gt;XSTRING_TO_TABLE</span><br><span class="line">    EXPORTING</span><br><span class="line">      I_STREAM = V_XSTR</span><br><span class="line">    IMPORTING</span><br><span class="line">      E_TABLE  = T_XTAB</span><br><span class="line">    EXCEPTIONS</span><br><span class="line">      OTHERS   = 1.</span><br><span class="line"></span><br><span class="line">  &quot; -- Download to local file</span><br><span class="line">  CALL FUNCTION &apos;GUI_DOWNLOAD&apos;</span><br><span class="line">    EXPORTING</span><br><span class="line">      FILETYPE     = &apos;BIN&apos;</span><br><span class="line">      FILENAME     = V_FILE</span><br><span class="line">      BIN_FILESIZE = V_XLEN</span><br><span class="line">    TABLES</span><br><span class="line">      DATA_TAB     = T_XTAB</span><br><span class="line">    EXCEPTIONS</span><br><span class="line">      OTHERS       = 0.</span><br></pre></td></tr></table></figure></li><li><p>将程序执行后获取到的文件放入解压exe工具同一个目录，Ctrl+R CMD打开命令行界面，CD至对应路径，运行以下代码后，会生成解压后的源码内容<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127133943.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">call &quot;%VS120COMNTOOLS%&quot;vsvars32.bat</span><br><span class="line">SAP_decompress.exe YTEST_JK76 YTEST_JK76.txt-u</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190127135302.png" alt=""></p>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态生成程序并执行</title>
      <link href="/2019/01/19/%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%A8%8B%E5%BA%8F%E5%B9%B6%E6%89%A7%E8%A1%8C/"/>
      <url>/2019/01/19/%E5%8A%A8%E6%80%81%E7%94%9F%E6%88%90%E7%A8%8B%E5%BA%8F%E5%B9%B6%E6%89%A7%E8%A1%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h1><p>&emsp;&emsp;很多时候在公司的正式环境上想要刷个数据库数据或者要查询一些复杂的中间数据，按正常流程的话可能要开发一本程序，但其实很多时候这个程序只执行一次，走正常流程还要申请ID申请TP，还要传输，时间成本太高，本就是一次性的工作，因此需要一本程序，复制黏贴进简单的源码不用部署就能直接run在正式环境。</p><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><ol><li>复制黏贴入代码，直接点击执行按钮<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190119164439.png" alt="1"></li><li>直接进入刚才复制的代码程序中，会自动生产防止点错或者没有debug权限执行的代码<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190119164651.png" alt="2"></li></ol><h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><ol><li>在正式环境执行一定要小心，特别是更新数据库的SQL，commit work一定要慎重，批量刷错数据了可就烦人了</li><li>一定需要有debug权限，本就是用debug查看数据和跳进程序执行</li><li>PGM ID ZDYNPRO必须没被占用，如果占用那就在动态生成程序中修改ZDYNPRO到另一个ID</li><li><font color="red">复制黏贴的源码每行的字符不能超过72位！！！</font>否则生成的程序无法执行</li></ol><h1 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h1><p>看似很高级，其实原理就两行代码,一句插入程序，一句SUMBMIT程序~。~！<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">INSERT REPORT &apos;ZDYNPRO&apos;(001) FROM &lt;SOURCE&gt;.</span><br><span class="line">WAIT UP TO 2 SECONDS.</span><br><span class="line">SUBMIT ZDYNPRO VIA SELECTION-SCREEN.</span><br></pre></td></tr></table></figure></p><h1 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br></pre></td><td class="code"><pre><span class="line">REPORT YDEVTOOL_GENERIC_PROGRAM.</span><br><span class="line"></span><br><span class="line">CLASS DISPLAY DEFINITION FINAL.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    TYPES: TXT_LINE TYPE C LENGTH 72,</span><br><span class="line">           TXT      TYPE STANDARD TABLE OF TXT_LINE</span><br><span class="line">                    WITH DEFAULT KEY.</span><br><span class="line">    CLASS-DATA:</span><br><span class="line">      READ_ONLY TYPE ABAP_BOOL READ-ONLY VALUE ABAP_TRUE.</span><br><span class="line"></span><br><span class="line">    CLASS-METHODS:</span><br><span class="line">      CLASS_CONSTRUCTOR,</span><br><span class="line">      MAIN,</span><br><span class="line">      FILL_ABAP_EDITOR   IMPORTING EDITOR TYPE REF TO CL_GUI_ABAPEDIT</span><br><span class="line">                                   TEXT   TYPE  TXT,</span><br><span class="line">      READ_ABAP_EDITOR   IMPORTING EDITOR TYPE REF TO CL_GUI_ABAPEDIT</span><br><span class="line">                         EXPORTING TEXT   TYPE TXT.</span><br><span class="line"></span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line">    CLASS-METHODS:</span><br><span class="line">      PREPARE_EDITORS,</span><br><span class="line">      CREATE_ABAP_EDITOR</span><br><span class="line">        IMPORTING PARENT_CONTAINER TYPE REF TO CL_GUI_CUSTOM_CONTAINER</span><br><span class="line">        RETURNING VALUE(EDITOR)    TYPE REF TO CL_GUI_ABAPEDIT.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS PROGRAM DEFINITION FINAL.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    CLASS-DATA: FLG_GENERATE TYPE CHAR1.</span><br><span class="line">    CLASS-METHODS:</span><br><span class="line">      CLASS_CONSTRUCTOR,</span><br><span class="line">      EXECUTE IMPORTING CHECK_ONLY TYPE ABAP_BOOL DEFAULT ABAP_FALSE,</span><br><span class="line">      BUILD_SOURCE          RETURNING VALUE(RC) TYPE SY-SUBRC,</span><br><span class="line">      CHECK_DECLARATIONS    RETURNING VALUE(RC) TYPE SY-SUBRC,</span><br><span class="line">*      CHECK_IMPLEMENTATION  RETURNING VALUE(RC) TYPE SY-SUBRC,</span><br><span class="line">      CHECK_SYNTAX          RETURNING VALUE(RC) TYPE SY-SUBRC.</span><br><span class="line"></span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line">    CLASS-DATA:</span><br><span class="line">      SOURCE TYPE DISPLAY=&gt;TXT.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">DATA:</span><br><span class="line">  G_LINKS   TYPE TABLE OF TLINE,</span><br><span class="line">  G_OK_CODE TYPE SY-UCOMM.</span><br><span class="line"></span><br><span class="line">DATA:</span><br><span class="line">  G_EDITOR1 TYPE REF TO CL_GUI_ABAPEDIT.</span><br><span class="line"></span><br><span class="line">DATA:</span><br><span class="line">  G_DECLARATIONS   TYPE DISPLAY=&gt;TXT.</span><br><span class="line"></span><br><span class="line">START-OF-SELECTION.</span><br><span class="line">  DISPLAY=&gt;MAIN( ).</span><br><span class="line"></span><br><span class="line">CLASS PROGRAM IMPLEMENTATION.</span><br><span class="line">  METHOD CLASS_CONSTRUCTOR.</span><br><span class="line">    CLEAR FLG_GENERATE.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">  METHOD EXECUTE.</span><br><span class="line">    DATA PROGRAM TYPE PROGNAME.</span><br><span class="line">    DATA CLASS TYPE STRING.</span><br><span class="line">    DATA IDX TYPE SY-TABIX.</span><br><span class="line"></span><br><span class="line">    SOURCE = G_DECLARATIONS.</span><br><span class="line"></span><br><span class="line">    DATA:LT_DEBUG   TYPE DISPLAY=&gt;TXT.</span><br><span class="line"></span><br><span class="line">    LT_DEBUG = VALUE #(</span><br><span class="line">      ( &apos;REPORT ZDYNPRO.&apos; )</span><br><span class="line">      ( |IF SY-SYSID = &apos;JCP&apos;.| )</span><br><span class="line">      ( &apos;BREAK-POINT.&apos; )</span><br><span class="line">      ( &apos;RETURN.&apos; )</span><br><span class="line">      ( &apos;ELSE.&apos; )</span><br><span class="line">      ( &apos;BREAK-POINT.&apos; )</span><br><span class="line">      ( &apos;ENDIF.&apos; ) ).</span><br><span class="line"></span><br><span class="line">    FIND &apos;REPORT&apos; IN TABLE SOURCE MATCH LINE IDX.</span><br><span class="line">    IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">      FIND &apos;report&apos; IN TABLE SOURCE MATCH LINE IDX.</span><br><span class="line">    ENDIF.</span><br><span class="line">    IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">    DELETE SOURCE INDEX IDX.</span><br><span class="line">    INSERT LINES OF LT_DEBUG INTO SOURCE INDEX IDX.</span><br><span class="line">    IF SY-SUBRC &lt;&gt; 0.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">    DATA(SOURCE_NAME) = &apos;SOURCE&apos;.</span><br><span class="line">    FIELD-SYMBOLS &lt;SOURCE&gt; TYPE STANDARD TABLE.</span><br><span class="line">    ASSIGN (SOURCE_NAME) TO &lt;SOURCE&gt;.</span><br><span class="line"></span><br><span class="line">    INSERT REPORT &apos;ZDYNPRO&apos;(001) FROM &lt;SOURCE&gt;.</span><br><span class="line">    WAIT UP TO 2 SECONDS.</span><br><span class="line">    SUBMIT ZDYNPRO VIA SELECTION-SCREEN.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD BUILD_SOURCE.</span><br><span class="line">    DATA IDX TYPE SY-TABIX.</span><br><span class="line">    DATA SUBRC TYPE SY-SUBRC.</span><br><span class="line"></span><br><span class="line">    SOURCE = G_DECLARATIONS.</span><br><span class="line"></span><br><span class="line">*    TRY.</span><br><span class="line">*        READ REPORT &apos;DEMO_GENERIC_TEMPLATE&apos; INTO SOURCE.</span><br><span class="line">*        SUBRC = SY-SUBRC.</span><br><span class="line">*      CATCH CX_SY_READ_SRC_LINE_TOO_LONG.</span><br><span class="line">*        SUBRC = 4.</span><br><span class="line">*    ENDTRY.</span><br><span class="line"></span><br><span class="line">*    IF SUBRC = 0.</span><br><span class="line">*      FIND &apos;* declarations&apos; IN TABLE SOURCE MATCH LINE IDX.</span><br><span class="line">*      SUBRC = SY-SUBRC.</span><br><span class="line">*      DELETE SOURCE INDEX IDX.</span><br><span class="line">*      INSERT LINES OF G_DECLARATIONS INTO SOURCE INDEX IDX.</span><br><span class="line">*    ENDIF.</span><br><span class="line"></span><br><span class="line">*    IF SUBRC = 0.</span><br><span class="line">*      FIND &apos;* implementation&apos; IN TABLE SOURCE MATCH LINE IDX.</span><br><span class="line">*      SUBRC = SY-SUBRC.</span><br><span class="line">*      DELETE SOURCE INDEX IDX.</span><br><span class="line">*      INSERT LINES OF G_IMPLEMENTATION INTO SOURCE INDEX IDX.</span><br><span class="line">*    ENDIF.</span><br><span class="line"></span><br><span class="line">    IF SUBRC &lt;&gt; 0.</span><br><span class="line">      MESSAGE TEXT-WTL TYPE &apos;I&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">      LEAVE PROGRAM.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">    RC = CHECK_SYNTAX( ).</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CHECK_DECLARATIONS.</span><br><span class="line">    DATA: CODE     LIKE SOURCE,</span><br><span class="line">          MESS     TYPE STRING,</span><br><span class="line">          LIN      TYPE I ##needed,</span><br><span class="line">          WRD      TYPE STRING ##needed,</span><br><span class="line">          WARNINGS TYPE  STANDARD TABLE OF RSLINLMSG.</span><br><span class="line"></span><br><span class="line">    &quot;Normal syntax check to get typos</span><br><span class="line">*    CODE = VALUE #( ( &apos;PROGRAM.&apos; ) ).</span><br><span class="line">    APPEND LINES OF G_DECLARATIONS TO CODE.</span><br><span class="line">    SYNTAX-CHECK FOR CODE MESSAGE MESS LINE LIN WORD WRD</span><br><span class="line">                     ID &apos;MSG&apos; TABLE WARNINGS</span><br><span class="line">                     PROGRAM SY-REPID.</span><br><span class="line">    RC = SY-SUBRC.</span><br><span class="line">    IF RC &lt;&gt; 0.</span><br><span class="line">      MESSAGE MESS TYPE &apos;I&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line">    IF WARNINGS IS NOT INITIAL.</span><br><span class="line">      DATA(WARNING) = WARNINGS[ 1 ].</span><br><span class="line">      MESSAGE WARNING-MESSAGE TYPE &apos;I&apos; DISPLAY LIKE &apos;W&apos;.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">*    &quot;Restrict to declarative statements</span><br><span class="line">*    CODE = VALUE #( ( &apos;PROGRAM.&apos; )</span><br><span class="line">*                    ( &apos;CLASS class DEFINITION.&apos; )</span><br><span class="line">*                    ( &apos;PUBLIC SECTION.&apos; )</span><br><span class="line">*                    ( &apos;ENDCLASS.&apos; ) ) ##no_text.</span><br><span class="line">*    INSERT LINES OF G_DECLARATIONS INTO CODE INDEX LINES( CODE ).</span><br><span class="line">*    SYNTAX-CHECK FOR CODE MESSAGE MESS LINE LIN WORD WRD</span><br><span class="line">*                     ID &apos;MSG&apos; TABLE WARNINGS</span><br><span class="line">*                     PROGRAM &apos;DEMO_GENERIC_TEMPLATE&apos;.</span><br><span class="line">*    RC = SY-SUBRC.</span><br><span class="line">*    IF RC &lt;&gt; 0.</span><br><span class="line">*      MESSAGE TEXT-DCL TYPE &apos;S&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">*    ENDIF.</span><br><span class="line">*    IF WARNINGS IS NOT INITIAL.</span><br><span class="line">*      WARNING = WARNINGS[ 1 ].</span><br><span class="line">*      MESSAGE WARNING-MESSAGE TYPE &apos;I&apos; DISPLAY LIKE &apos;W&apos;.</span><br><span class="line">*      RETURN.</span><br><span class="line">*    ENDIF.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">*</span><br><span class="line">*  METHOD CHECK_IMPLEMENTATION.</span><br><span class="line">*    &quot;Only a very limited set of statements is allowed</span><br><span class="line">**    DATA BLACK_LIST TYPE CL_DEMO_SECURE_ABAP_CODE=&gt;STRING_TABLE.</span><br><span class="line">**    DATA WHITE_LIST TYPE CL_DEMO_SECURE_ABAP_CODE=&gt;STRING_TABLE.</span><br><span class="line">**</span><br><span class="line">**    &quot;Blacklist</span><br><span class="line">**    BLACK_LIST = VALUE #(</span><br><span class="line">**      ( `-&gt;` )</span><br><span class="line">**      ( `=&gt;` ) ).</span><br><span class="line">**</span><br><span class="line">**    &quot;Whitelist</span><br><span class="line">**    WHITE_LIST = VALUE #(</span><br><span class="line">**      ( `FIELD-SYMBOLS`        )</span><br><span class="line">**</span><br><span class="line">**      ( `CHECK`                )</span><br><span class="line">**      ( `EXIT`                 )</span><br><span class="line">**      ( `RETURN`               )</span><br><span class="line">**</span><br><span class="line">**      ( `DO`                   )</span><br><span class="line">**      ( `ENDDO`                )</span><br><span class="line">**      ( `WHILE`                )</span><br><span class="line">**      ( `ENDWHILE`             )</span><br><span class="line">**      ( `CASE`                 )</span><br><span class="line">**      ( `WHEN`                 )</span><br><span class="line">**      ( `ENDCASE`              )</span><br><span class="line">**      ( `IF`                   )</span><br><span class="line">**      ( `ELSEIF`               )</span><br><span class="line">**      ( `ELSE`                 )</span><br><span class="line">**      ( `ENDIF`                )</span><br><span class="line">**</span><br><span class="line">**      ( `MOVE-CORRESPONDING`   )</span><br><span class="line">**      ( `ASSIGN`               )</span><br><span class="line">**      ( `UNASSIGN`             )</span><br><span class="line">**      ( `CLEAR`                )</span><br><span class="line">**      ( `FREE`                 )</span><br><span class="line">**</span><br><span class="line">**      ( `FIND`                 )</span><br><span class="line">**      ( `REPLACE`              )</span><br><span class="line">**</span><br><span class="line">**      ( `APPEND`               )</span><br><span class="line">**      ( `INSERT`               )</span><br><span class="line">**      ( `MODIFY`               )</span><br><span class="line">**      ( `DELETE`               )</span><br><span class="line">**      ( `COLLECT`              )</span><br><span class="line">**      ( `READ`                 )</span><br><span class="line">**      ( `LOOP`                 )</span><br><span class="line">**      ( `ENDLOOP`              )</span><br><span class="line">**      ( `SORT`                 ) ).</span><br><span class="line">**</span><br><span class="line">**    RC = CL_DEMO_SECURE_ABAP_CODE=&gt;CHECK(</span><br><span class="line">***      SOURCE_CODE  = G_IMPLEMENTATION</span><br><span class="line">**      SOURCE_CODE  = G_DECLARATIONS</span><br><span class="line">**      BLACK_LIST   = BLACK_LIST</span><br><span class="line">**      WHITE_LIST   = WHITE_LIST</span><br><span class="line">**      DECLARATIONS = G_DECLARATIONS ).</span><br><span class="line">**    IF RC &lt;&gt; 0.</span><br><span class="line">**      MESSAGE TEXT-EXE TYPE &apos;S&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">**    ENDIF.</span><br><span class="line">*</span><br><span class="line">*  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CHECK_SYNTAX.</span><br><span class="line">    DATA: MESS     TYPE STRING,</span><br><span class="line">          LIN      TYPE I ##needed,</span><br><span class="line">          WRD      TYPE STRING ##needed,</span><br><span class="line">          WARNINGS TYPE  STANDARD TABLE OF RSLINLMSG.</span><br><span class="line">    &quot;Syntax check for implementations with declarations</span><br><span class="line">    SYNTAX-CHECK FOR SOURCE MESSAGE MESS LINE LIN WORD WRD</span><br><span class="line">                     ID &apos;MSG&apos; TABLE WARNINGS</span><br><span class="line">                     PROGRAM SY-REPID.</span><br><span class="line">    RC = SY-SUBRC.</span><br><span class="line">    IF RC &lt;&gt; 0.</span><br><span class="line">      MESSAGE MESS TYPE &apos;I&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">    ENDIF.</span><br><span class="line">    IF WARNINGS IS NOT INITIAL.</span><br><span class="line">      DATA(WARNING) = WARNINGS[ 1 ].</span><br><span class="line">      MESSAGE WARNING-MESSAGE TYPE &apos;I&apos; DISPLAY LIKE &apos;W&apos;.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS DISPLAY IMPLEMENTATION.</span><br><span class="line">  METHOD CLASS_CONSTRUCTOR.</span><br><span class="line">    &quot;Security checks</span><br><span class="line"></span><br><span class="line">    IF SY-UNAME = &apos;00052576&apos;.</span><br><span class="line">      READ_ONLY = ABAP_FALSE.</span><br><span class="line">      RETURN.</span><br><span class="line">    ENDIF.</span><br><span class="line"></span><br><span class="line">*    &quot;Not allowed in production systems</span><br><span class="line">*    IF CL_ABAP_DEMO_SERVICES=&gt;IS_PRODUCTION_SYSTEM( ).</span><br><span class="line">*      MESSAGE TEXT-PRS TYPE &apos;S&apos; DISPLAY LIKE &apos;W&apos;.</span><br><span class="line">*      RETURN.</span><br><span class="line">*    ENDIF.</span><br><span class="line">*</span><br><span class="line">*    &quot;Only users who are allowed to use the ABAP Editor</span><br><span class="line">*    CALL FUNCTION &apos;AUTHORITY_CHECK_TCODE&apos;</span><br><span class="line">*      EXPORTING</span><br><span class="line">*        TCODE  = &apos;SE38&apos;</span><br><span class="line">*      EXCEPTIONS</span><br><span class="line">*        OK     = 1</span><br><span class="line">*        NOT_OK = 2</span><br><span class="line">*        OTHERS = 3.</span><br><span class="line">*</span><br><span class="line">*    &quot;Only users who are allowed to create and run $TMP programs</span><br><span class="line">*    IF SY-SUBRC &lt; 2.</span><br><span class="line">*      AUTHORITY-CHECK OBJECT &apos;S_DEVELOP&apos;</span><br><span class="line">*        ID &apos;DEVCLASS&apos; FIELD &apos;$TMP&apos;</span><br><span class="line">*        ID &apos;OBJTYPE&apos;  FIELD &apos;PROG&apos;</span><br><span class="line">*        ID &apos;OBJNAME&apos;  DUMMY</span><br><span class="line">*        ID &apos;P_GROUP&apos;  DUMMY</span><br><span class="line">*        ID &apos;ACTVT&apos;    FIELD &apos;02&apos;.</span><br><span class="line">*      IF SY-SUBRC =  0.</span><br><span class="line">*        READ_ONLY = ABAP_FALSE.</span><br><span class="line">*        RETURN.</span><br><span class="line">*      ENDIF.</span><br><span class="line">*    ENDIF.</span><br><span class="line"></span><br><span class="line">    MESSAGE TEXT-AUT TYPE &apos;S&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD MAIN.</span><br><span class="line"></span><br><span class="line">    PREPARE_EDITORS( ).</span><br><span class="line">    CALL SCREEN 100.</span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD PREPARE_EDITORS.</span><br><span class="line">    DATA:</span><br><span class="line">      CONTAINER1 TYPE REF TO CL_GUI_CUSTOM_CONTAINER.</span><br><span class="line">*      CONTAINER2 TYPE REF TO CL_GUI_CUSTOM_CONTAINER.</span><br><span class="line"></span><br><span class="line">    G_DECLARATIONS = VALUE #(</span><br><span class="line">      ( &apos;DATA text TYPE string VALUE `Hello, I&apos;&apos;m generic!`.&apos; ) )</span><br><span class="line">      ##no_text.</span><br><span class="line">*    G_IMPLEMENTATION = VALUE #(</span><br><span class="line">*      ( &apos;cl_demo_output&apos; &amp;&amp; &apos;=&gt;display_text( text ).&apos; ) )</span><br><span class="line">*      ##no_text.</span><br><span class="line"></span><br><span class="line">    CREATE OBJECT CONTAINER1</span><br><span class="line">      EXPORTING</span><br><span class="line">        CONTAINER_NAME = &apos;CUSTOM_CONTAINER1&apos;.</span><br><span class="line">    G_EDITOR1 = DISPLAY=&gt;CREATE_ABAP_EDITOR( CONTAINER1 ).</span><br><span class="line">*    CREATE OBJECT CONTAINER2</span><br><span class="line">*      EXPORTING</span><br><span class="line">*        CONTAINER_NAME = &apos;CUSTOM_CONTAINER2&apos;.</span><br><span class="line">*    G_EDITOR2 = DISPLAY=&gt;CREATE_ABAP_EDITOR( CONTAINER2 ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CREATE_ABAP_EDITOR.</span><br><span class="line">    CREATE OBJECT EDITOR</span><br><span class="line">      EXPORTING</span><br><span class="line">        PARENT = PARENT_CONTAINER.</span><br><span class="line">    EDITOR-&gt;SET_TOOLBAR_MODE( 0 ).</span><br><span class="line">    EDITOR-&gt;SET_STATUSBAR_MODE( 0 ).</span><br><span class="line">    IF READ_ONLY = ABAP_TRUE.</span><br><span class="line">      EDITOR-&gt;SET_READONLY_MODE( 1 ).</span><br><span class="line">    ELSE.</span><br><span class="line">      EDITOR-&gt;SET_READONLY_MODE( 0 ).</span><br><span class="line">    ENDIF.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD FILL_ABAP_EDITOR.</span><br><span class="line">    EDITOR-&gt;SET_TEXT( TEXT ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD READ_ABAP_EDITOR.</span><br><span class="line">    EDITOR-&gt;GET_TEXT( IMPORTING TABLE = TEXT ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">MODULE STATUS_0100 OUTPUT.</span><br><span class="line">  SET PF-STATUS &apos;STATUS_100&apos;.</span><br><span class="line">  SET TITLEBAR  &apos;TITLE_100&apos;.</span><br><span class="line">  DISPLAY=&gt;FILL_ABAP_EDITOR( EDITOR = G_EDITOR1</span><br><span class="line">                             TEXT   = G_DECLARATIONS ).</span><br><span class="line">*  DISPLAY=&gt;FILL_ABAP_EDITOR( EDITOR = G_EDITOR2</span><br><span class="line">*                             TEXT   = G_IMPLEMENTATION ).</span><br><span class="line">ENDMODULE.</span><br><span class="line"></span><br><span class="line">MODULE CANCEL_0100 INPUT.</span><br><span class="line">  LEAVE PROGRAM.</span><br><span class="line">ENDMODULE.</span><br><span class="line"></span><br><span class="line">MODULE USER_COMMAND_0100.</span><br><span class="line">  IF G_OK_CODE = &apos;INFO&apos;.</span><br><span class="line">    CALL FUNCTION &apos;HELP_OBJECT_SHOW&apos;</span><br><span class="line">      EXPORTING</span><br><span class="line">        DOKCLASS = &apos;RE&apos;</span><br><span class="line">        DOKLANGU = SY-LANGU</span><br><span class="line">        DOKNAME  = &apos;DEMO_GENERIC_PROGRAM&apos;</span><br><span class="line">      TABLES</span><br><span class="line">        LINKS    = G_LINKS.</span><br><span class="line">    CLEAR G_OK_CODE.</span><br><span class="line">    RETURN.</span><br><span class="line">  ENDIF.</span><br><span class="line">  IF DISPLAY=&gt;READ_ONLY = ABAP_TRUE.</span><br><span class="line">    MESSAGE TEXT-AUT TYPE &apos;S&apos; DISPLAY LIKE &apos;E&apos;.</span><br><span class="line">    CLEAR G_OK_CODE.</span><br><span class="line">    RETURN.</span><br><span class="line">  ENDIF.</span><br><span class="line">  DISPLAY=&gt;READ_ABAP_EDITOR( EXPORTING EDITOR = G_EDITOR1</span><br><span class="line">                             IMPORTING TEXT   = G_DECLARATIONS ).</span><br><span class="line">*  DISPLAY=&gt;READ_ABAP_EDITOR( EXPORTING EDITOR = G_EDITOR2</span><br><span class="line">*                             IMPORTING TEXT   = G_IMPLEMENTATION ).</span><br><span class="line">  CASE G_OK_CODE.</span><br><span class="line">    WHEN &apos;EXECUTE&apos;.</span><br><span class="line">      PROGRAM=&gt;EXECUTE( ).</span><br><span class="line">*    WHEN &apos;CHECK&apos;.</span><br><span class="line">*      PROGRAM=&gt;EXECUTE( CHECK_ONLY = ABAP_TRUE ).</span><br><span class="line">    WHEN &apos;CLEAR&apos;.</span><br><span class="line">      CLEAR: G_DECLARATIONS.</span><br><span class="line">*             G_IMPLEMENTATION.</span><br><span class="line">  ENDCASE.</span><br><span class="line">  CLEAR G_OK_CODE.</span><br><span class="line">ENDMODULE.</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> Tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ABAP类的集成多态重载</title>
      <link href="/2019/01/01/ABAP%E7%B1%BB%E7%9A%84%E9%9B%86%E6%88%90%E5%A4%9A%E6%80%81%E9%87%8D%E8%BD%BD/"/>
      <url>/2019/01/01/ABAP%E7%B1%BB%E7%9A%84%E9%9B%86%E6%88%90%E5%A4%9A%E6%80%81%E9%87%8D%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>以下代码将列举以下4种类的写法</p><ol><li>定义基类</li><li>定义子类</li><li>定义抽象类</li><li>最终类<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">REPORT demo_list_hide NO STANDARD PAGE HEADING.</span><br><span class="line">*-----------------继承------------</span><br><span class="line">class superclass definition. 定义基类</span><br><span class="line">  public section.</span><br><span class="line">    data para(30) type c value &apos;this is super method!&apos;.</span><br><span class="line">    methods write_first.</span><br><span class="line">    methods write.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">class subclass definition inheriting from superclass. 定义派生类</span><br><span class="line">  public section.</span><br><span class="line">    methods write_first redefinition. 定义重载方法</span><br><span class="line">    methods write_second.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">class superclass implementation.</span><br><span class="line">  method write_first.</span><br><span class="line">    write:/ para.</span><br><span class="line">    skip.</span><br><span class="line">  endmethod.</span><br><span class="line">  method write.</span><br><span class="line">    write:/ &apos;super method not inheriting!&apos;.</span><br><span class="line">  endmethod.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">class subclass implementation.</span><br><span class="line">  method write_first.</span><br><span class="line">    call method super-&gt;write_first. 通过super调用基类的方法，反之me</span><br><span class="line">  endmethod.</span><br><span class="line">  method write_second.</span><br><span class="line">    para = &apos;the redifinition method!&apos;.</span><br><span class="line">    call method me-&gt;write_first. 通过me调用自身的方法</span><br><span class="line">  endmethod.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">*---------------定义抽象类---------------------------------------</span><br><span class="line">*-基类有多个派生类的时候，所有操作都在派生类中实现，并不需要通过基类定义对象实例，可以将基类定义为一个模板，声明为抽象类。</span><br><span class="line">*-抽象类包含至少一个抽象方法，不能通过create object声明对象实例。抽象方法只包含方法的定义，不包含具体的实现，实现在子类中。</span><br><span class="line">class superclass2 definition abstract.  定义一个抽象类</span><br><span class="line">  public section.</span><br><span class="line">    data abs(40) value &apos;this is a super abstract!&apos;.</span><br><span class="line">    methods write_first abstract.定义抽象方法</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">class subclass2 definition inheriting from superclass2.</span><br><span class="line">  public section.</span><br><span class="line">    methods write_first redefinition.</span><br><span class="line">    methods write_second.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">class subclass2 implementation.</span><br><span class="line">  method write_first.</span><br><span class="line">    write:/ &apos;abstract:&apos;.</span><br><span class="line">    write:/ abs.</span><br><span class="line">    skip.</span><br><span class="line">  endmethod.</span><br><span class="line">  method write_second.</span><br><span class="line">    write:/ &apos;this is the second method.&apos;.</span><br><span class="line">  endmethod.</span><br><span class="line">endclass.</span><br><span class="line"></span><br><span class="line">data new2 type ref to subclass2.</span><br><span class="line">data new type ref to subclass.</span><br><span class="line">start-of-selection.</span><br><span class="line">  create object new.</span><br><span class="line">  call method:</span><br><span class="line">       new-&gt;write_first, </span><br><span class="line">       new-&gt;write_second, </span><br><span class="line">       new-&gt;write.</span><br><span class="line">派生类的实例化对象可以调用自身的所有方法，而且可以调用基类的方法，但是方法重载之后，不能通过实例化对象直接调用该方法，需用supper来实现。</span><br><span class="line">create object new2.</span><br><span class="line">call method: </span><br><span class="line">   new2-&gt;write_first,</span><br><span class="line">   new2-&gt;write_second.</span><br><span class="line"></span><br><span class="line">*-----------------最终类与最终方法------------：</span><br><span class="line">最终类和最终方法都是不可以继承的，为了防止多级别的派生导致的语义语法冲突。</span><br><span class="line">class finalclass definition final.</span><br><span class="line">…………</span><br><span class="line">methods final_write final.</span><br><span class="line">endclass.</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> OO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ABAP OO中等号的含义</title>
      <link href="/2019/01/01/ABAP-OO%E4%B8%AD%E7%AD%89%E5%8F%B7%E7%9A%84%E5%90%AB%E4%B9%89/"/>
      <url>/2019/01/01/ABAP-OO%E4%B8%AD%E7%AD%89%E5%8F%B7%E7%9A%84%E5%90%AB%E4%B9%89/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>在Class中对象的赋值有三种方</p><ol><li>“=” 同类型赋值，不会创建新的实例，只会引用地址</li><li>“=” 向上转型，父类 = 子类</li><li>“?=”向下转型，子类 ?= 父类，需要CREATE OBJECT 父类实例 type 子类.</li></ol><h2 id="1-”-”-同类型赋值"><a href="#1-”-”-同类型赋值" class="headerlink" title="1.”=”  同类型赋值"></a>1.”=”  同类型赋值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report  Z_WYS_TYPEREF01</span><br><span class="line">*&amp;作者:jackychen</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;同类之间用 = 赋值</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">REPORT  z_wys_typeref01.</span><br><span class="line"> </span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS CP DEFINITION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*c_parent 定义</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent DEFINITION .&quot; 父类</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    DATA i TYPE i.</span><br><span class="line">    DATA s TYPE string.</span><br><span class="line">    METHODS constructor.</span><br><span class="line">    METHODS zwrite.</span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line"></span><br><span class="line">ENDCLASS.                    &quot;A DEFINITION</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS c_parent IMPLEMENTATION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*c_parent 实现</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent IMPLEMENTATION.</span><br><span class="line">  METHOD constructor.</span><br><span class="line">    WRITE / &apos;父类创建!&apos;.</span><br><span class="line">  ENDMETHOD.                    &quot;constructor</span><br><span class="line">  METHOD zwrite   .</span><br><span class="line">    WRITE / &apos;父类write.&apos;.</span><br><span class="line">  ENDMETHOD.                 &quot;destructor</span><br><span class="line">  &quot;destructor</span><br><span class="line">ENDCLASS .               &quot;a</span><br><span class="line"> </span><br><span class="line">START-OF-SELECTION.</span><br><span class="line">  DATA cp  TYPE REF TO c_parent . &quot;</span><br><span class="line">  DATA cp2 TYPE REF TO c_parent . &quot;</span><br><span class="line">  CREATE OBJECT cp.   &quot;cp 实例化, 系统会在后台创建一个</span><br><span class="line">                      &quot;c_parent类型的实例(比如命名为c_parent_1)</span><br><span class="line">                      &quot;并且让cp 引用这个实例</span><br><span class="line"></span><br><span class="line">  cp-&gt;zwrite( ).      &quot;调用成员函数</span><br><span class="line">  cp2 = cp.           &quot; 静态声明 cp 和 cp2是相同类型.</span><br><span class="line">                      &quot; cp2 并没有实例化(后台没有创建c_parent_2),</span><br><span class="line">                      &quot; cp2只是引用了cp引用的实例.</span><br><span class="line">  cp-&gt;i = 10.         &quot; cp2-&gt;i也随之改为10. 这就是引用类型的魅力^_^</span><br><span class="line">  write: / cp-&gt;i,cp2-&gt;i.</span><br><span class="line">  cp2-&gt;i = 99.         &quot; cp-&gt;i也随之改为99. 这也是引用类型的魅力^_^</span><br><span class="line">  write: / cp-&gt;i,cp2-&gt;i.</span><br><span class="line">  cp2-&gt;zwrite( ).     &quot;调用成员函数</span><br></pre></td></tr></table></figure><h2 id="2-”-”-向上转型"><a href="#2-”-”-向上转型" class="headerlink" title="2.”=”  向上转型"></a>2.”=”  向上转型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report  Z_WYS_TYPEREF</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;  基类 = 派生类</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">REPORT  z_wys_typeref02.</span><br><span class="line"> </span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS CP DEFINITION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent DEFINITION .&quot; 基类</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    DATA i TYPE i.</span><br><span class="line">    DATA s TYPE string.</span><br><span class="line">    METHODS constructor.</span><br><span class="line">    METHODS zwrite.</span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line"></span><br><span class="line">ENDCLASS.                    &quot;A DEFINITION</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS c_parent IMPLEMENTATION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent IMPLEMENTATION.</span><br><span class="line">  METHOD constructor.</span><br><span class="line">     &quot; 父类创建</span><br><span class="line">    WRITE / &apos;父类创建!&apos;.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">    METHOD zwrite   .</span><br><span class="line">    WRITE / &apos;父类write.&apos;.</span><br><span class="line">  ENDMETHOD.                 &quot;destructor</span><br><span class="line">                    &quot;destructor</span><br><span class="line">ENDCLASS .               &quot;a</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS c_child DEFINITION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_child DEFINITION INHERITING FROM c_parent.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    DATA child_str TYPE string.</span><br><span class="line">    METHODS constructor .</span><br><span class="line">    METHODS zwrite REDEFINITION.</span><br><span class="line">ENDCLASS.                    &quot;</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS ac IMPLEMENTATION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_child IMPLEMENTATION.</span><br><span class="line">  METHOD constructor .  &quot; 子类创建</span><br><span class="line">    super-&gt;constructor( ).&quot;先调用父类的构造函数</span><br><span class="line">    WRITE  &apos;子类创建!&apos;.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">  METHOD zwrite   .</span><br><span class="line">    WRITE / &apos;子类write.&apos;.</span><br><span class="line">  ENDMETHOD.                 &quot;destructor</span><br><span class="line">ENDCLASS.                    &quot;ac IMPLEMENTATION</span><br><span class="line">START-OF-SELECTION.</span><br><span class="line">  DATA cp  TYPE REF TO c_parent . &quot;</span><br><span class="line">  DATA cc  TYPE REF TO c_child . &quot;</span><br><span class="line">  CREATE OBJECT cc .&quot; 创建子类实例</span><br><span class="line">  cp = cc.          &quot; 父类 = 子类</span><br><span class="line">                    &quot; 静态声明中&quot;=&quot; 两边类型不匹配,</span><br><span class="line">                    &quot; 但是&quot;=&quot; 左边是右边的基类</span><br><span class="line">                    &quot; 所以语法检查通过</span><br><span class="line">  cp-&gt;zwrite( ).    &quot; 调用子类的方法</span><br></pre></td></tr></table></figure><h2 id="3-”-”-向下转型"><a href="#3-”-”-向下转型" class="headerlink" title="3.”?=” 向下转型"></a>3.”?=” 向下转型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report  Z_WYS_TYPEREF</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;  派生类 = 基类</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">REPORT  z_wys_typeref03.</span><br><span class="line"> </span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS CP DEFINITION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent DEFINITION .&quot; 父类</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    DATA i TYPE i.</span><br><span class="line">    DATA s TYPE string.</span><br><span class="line">    METHODS constructor.</span><br><span class="line">    METHODS zwrite.</span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line"></span><br><span class="line">ENDCLASS.                    &quot;A DEFINITION</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS c_parent IMPLEMENTATION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_parent IMPLEMENTATION.</span><br><span class="line">  METHOD constructor.</span><br><span class="line">     &quot; 父类创建</span><br><span class="line">    WRITE / &apos;父类创建!&apos;.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">    METHOD zwrite   .</span><br><span class="line">    WRITE / &apos;父类write.&apos;.</span><br><span class="line">  ENDMETHOD.                 &quot;destructor</span><br><span class="line">                    &quot;destructor</span><br><span class="line">ENDCLASS .               &quot;a</span><br><span class="line"></span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS c_child DEFINITION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_child DEFINITION INHERITING FROM c_parent.</span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    DATA child_str TYPE string.</span><br><span class="line">    METHODS constructor .</span><br><span class="line">    METHODS zwrite REDEFINITION.</span><br><span class="line">ENDCLASS.                    &quot;</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*       CLASS ac IMPLEMENTATION</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">*</span><br><span class="line">*----------------------------------------------------------------------*</span><br><span class="line">CLASS c_child IMPLEMENTATION.</span><br><span class="line">  METHOD constructor .  &quot; 子类创建</span><br><span class="line">    super-&gt;constructor( ).&quot;先调用父类的构造函数</span><br><span class="line">    WRITE  &apos;子类创建!&apos;.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line">  METHOD zwrite   .</span><br><span class="line">    WRITE / &apos;子类write.&apos;.</span><br><span class="line">  ENDMETHOD.                 &quot;destructor</span><br><span class="line">ENDCLASS.                    &quot;ac IMPLEMENTATION</span><br><span class="line">START-OF-SELECTION.</span><br><span class="line">  DATA cp  TYPE REF TO c_parent . &quot;</span><br><span class="line">  DATA cc  TYPE REF TO c_child . &quot;</span><br><span class="line">*******************************************************</span><br><span class="line">* 错误1</span><br><span class="line">&quot;  CREATE OBJECT cp .&quot; 创建父类实例</span><br><span class="line">&quot;  cc = cp.         &quot; 子类 = 父类 语法检查出错</span><br><span class="line">                    &quot; 静态声明中&quot;=&quot; 两边类型不匹配.</span><br><span class="line">*******************************************************</span><br><span class="line">*******************************************************</span><br><span class="line">* 错误2</span><br><span class="line">&quot;  CREATE OBJECT cp .&quot; 创建父类实例</span><br><span class="line">&quot;  cc ?= cp.         &quot; 语法检查正确, 但 运行期类型不匹配</span><br><span class="line">*******************************************************</span><br><span class="line">*正确</span><br><span class="line">  CREATE OBJECT cp type c_child.&quot; 动态创建cp 为c_child</span><br><span class="line">  cc ?= cp.         &quot; 静态语法检查正确, 动态类型一致</span><br><span class="line">  cc-&gt;zwrite( ).    &quot; 调用子类的方法</span><br></pre></td></tr></table></figure><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>  举例完毕.<br>  关于 “?=”, SAP 帮助中这么解释的:</p><p>  MOVE source {TO|?TO} destination.<br>  destination {=|?=} source.<br>  原文:<br>  Both these statements assign the content of the operand source to<br>  the data object destination. The variants with the addition TO or<br>  the assignment operator = are valid for all assignments between<br>  operands that are not reference variables,<br>  and for assignments between reference variables for which the<br>  static type of source is more specific than or the same as the<br>  static type of destination (narrowing cast).<br>  中文:<br>  上述两个声明,用源操作数的数据(source)给目标数据对象赋值(destination).<br>  “TO”或者赋值运算符”=” 适用于以下两种情况:</p><pre><code>1. 操作对象,包括源和目标对象都不是引用类型    2. 如果是引用类型,源对象和目标对象类型一致(本文例子1)或者源对象要比目标对象更具体(向上转型)--(本文例子2)</code></pre><p>  原文:<br>  Variants with the addition ?TO or the assignment operator ?= (casting operator)<br>  must be used if the source and destination are reference variables<br>   and the static type of source is more general than the static type<br>   of destination (down cast).<br>  For assignments between operands that are not reference variables,<br>  use of the question mark ? is not permitted.<br>  中文:<br>  使用”?TO”或者赋值运算符”?=”(类型转换操作符)的变式,要同时具备以下两个条件:<br>  1.操作对象,包括源和目标对象, 都是引用类型;<br>  2.并且,源对象的静态类型(data语句声明的类型)要比目标对象更抽象(向下转型).–(本文例子3)<br>  非引用型变量赋值不能用问号操作符.</p><p>  关键词: ABAP OO object oriented 面向对象 运行时 多态 兼容性赋值 转型</p>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> OO </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SAP调用ECharts生成图表</title>
      <link href="/2019/01/01/SAP%E8%B0%83%E7%94%A8ECharts%E7%94%9F%E6%88%90%E5%9B%BE%E8%A1%A8/"/>
      <url>/2019/01/01/SAP%E8%B0%83%E7%94%A8ECharts%E7%94%9F%E6%88%90%E5%9B%BE%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<h1 id="获取ECharts"><a href="#获取ECharts" class="headerlink" title="获取ECharts"></a>获取ECharts</h1><p>你可以通过以下几种方式获取 ECharts：</p><ol><li>从官网下载界面选择你需要的版本下载，根据开发者功能和体积上的需求，我们提供了不同打包的下载，如果你在体积上没有要求，可以直接下载完整版本。开发环境建议下载源代码版本，包含了常见的错误提示和警告。</li><li>在 ECharts 的 GitHub 上下载最新的 release 版本，解压出来的文件夹里的 dist 目录里可以找到最新版本的 echarts 库。</li><li>通过 npm 获取 echarts，npm install echarts –save，详见“在 webpack 中使用 echarts”</li><li><strong>cdn 引入，你可以在 <a href="https://cdnjs.com/libraries/echarts" target="_blank" rel="noopener">cdnjs</a>，<a href="https://unpkg.com/echarts@4.2.0-rc.2/dist/" target="_blank" rel="noopener">npmcdn</a> 或者国内的 <a href="https://www.bootcdn.cn/echarts/" target="_blank" rel="noopener">bootcdn</a> 上找到 ECharts 的最新版本。</strong></li></ol><h1 id="引入-ECharts"><a href="#引入-ECharts" class="headerlink" title="引入 ECharts"></a>引入 ECharts</h1><p>ECharts 3 开始不再强制使用 AMD 的方式按需引入，代码里也不再内置 AMD 加载器。因此引入方式简单了很多，只需要像普通的 JavaScript 库一样用 script 标签引入。<br><img src="https://note.youdao.com/yws/public/resource/6d8875e5a015a2531827e3d1b3043da5/xmlnote/709391C1B57748BCAE410B6FA17A79CC/14286" alt="26"><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 ECharts 文件（从上记第四点的网站那个可以直接导入） --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;script src="echarts.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts-en.common.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h1 id="绘制一个简单的图表"><a href="#绘制一个简单的图表" class="headerlink" title="绘制一个简单的图表"></a>绘制一个简单的图表</h1><p>在绘图前我们需要为 ECharts 准备一个具备高宽的 DOM 容器。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为 ECharts 准备一个具备大小（宽高）的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>然后就可以通过 echarts.init 方法初始化一个 echarts 实例并通过 setOption 方法生成一个简单的柱状图，下面是完整代码。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入 echarts.js --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts-en.common.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        // 基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="undefined">        var myChart = echarts.init(document.getElementById('main'));</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        // 指定图表的配置项和数据</span></span><br><span class="line"><span class="undefined">        var option = &#123;</span></span><br><span class="line"><span class="undefined">            title: &#123;</span></span><br><span class="line"><span class="undefined">                text: 'ECharts 入门示例'</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            tooltip: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">            legend: &#123;</span></span><br><span class="line"><span class="undefined">                data:['销量']</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            xAxis: &#123;</span></span><br><span class="line"><span class="undefined">                data: ["衬衫","羊毛衫","雪纺衫","裤子","高跟鞋","袜子"]</span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            yAxis: &#123;&#125;,</span></span><br><span class="line"><span class="undefined">            series: [&#123;</span></span><br><span class="line"><span class="undefined">                name: '销量',</span></span><br><span class="line"><span class="undefined">                type: 'bar',</span></span><br><span class="line"><span class="undefined">                data: [5, 20, 36, 10, 10, 20]</span></span><br><span class="line"><span class="undefined">            &#125;]</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        // 使用刚指定的配置项和数据显示图表。</span></span><br><span class="line"><span class="undefined">        myChart.setOption(option);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>效果<br><br><img src="https://note.youdao.com/yws/public/resource/6d8875e5a015a2531827e3d1b3043da5/xmlnote/93C88427E117413DAB6D1141EF0D85F5/14293" alt="27"></p><p>你也可以直接进入 <a href="http://www.echartsjs.com/gallery/editor.html?c=doc-example/getting-started" target="_blank" rel="noopener">ECharts Gallery</a> 中查看编辑示例</p><h1 id="EChart-结合SAP报表的显示sample"><a href="#EChart-结合SAP报表的显示sample" class="headerlink" title="EChart 结合SAP报表的显示sample"></a>EChart 结合SAP报表的显示sample</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp; Report  YTEST_JK63</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;</span><br><span class="line">*&amp;---------------------------------------------------------------------*</span><br><span class="line">REPORT YTEST_JK63.</span><br><span class="line"></span><br><span class="line">CLASS LCL_HTML_SHOWER DEFINITION</span><br><span class="line">  FINAL</span><br><span class="line">  CREATE PRIVATE .</span><br><span class="line"></span><br><span class="line">  PUBLIC SECTION.</span><br><span class="line">    CLASS-METHODS</span><br><span class="line">      FACTORY RETURNING VALUE(OR_HTML_SHOWER) TYPE REF TO LCL_HTML_SHOWER.</span><br><span class="line"></span><br><span class="line">    METHODS</span><br><span class="line">      SHOW_HTML.</span><br><span class="line"></span><br><span class="line">  PRIVATE SECTION.</span><br><span class="line">    TYPES:</span><br><span class="line">      BEGIN OF TY_DATA,</span><br><span class="line">        NAME TYPE ZNAME,</span><br><span class="line">        QTY  TYPE char1,</span><br><span class="line">      END OF TY_DATA,</span><br><span class="line">      TTY_DATA TYPE STANDARD TABLE OF TY_DATA.&quot; WITH UNIQUE KEY NAME.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    DATA:</span><br><span class="line">      V_HTML TYPE STRING,</span><br><span class="line">      T_DATA TYPE TTY_DATA.</span><br><span class="line"></span><br><span class="line">    METHODS:</span><br><span class="line">      CONSTRUCTOR.</span><br><span class="line">    METHODS</span><br><span class="line">      EDIT_DATA.</span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line">CLASS LCL_HTML_SHOWER IMPLEMENTATION.</span><br><span class="line">  METHOD FACTORY.</span><br><span class="line">    CREATE OBJECT OR_HTML_SHOWER.</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD EDIT_DATA.</span><br><span class="line">    T_DATA = VALUE #(</span><br><span class="line">      ( NAME = &apos;张三&apos; QTY = &apos;3&apos; )</span><br><span class="line">      ( NAME = &apos;李四&apos; QTY = &apos;4&apos; )</span><br><span class="line">      ( NAME = &apos;王五&apos; QTY = &apos;5&apos; )</span><br><span class="line">      ( NAME = &apos;赵六&apos; QTY = &apos;6&apos; )</span><br><span class="line">      ( NAME = &apos;石七&apos; QTY = &apos;7&apos; )</span><br><span class="line">      ( NAME = &apos;张八&apos; QTY = &apos;8&apos; )</span><br><span class="line">    ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">  METHOD CONSTRUCTOR.</span><br><span class="line">*&lt;!DOCTYPE html&gt;</span><br><span class="line">*&lt;html&gt;</span><br><span class="line">*&lt;head&gt;</span><br><span class="line">*    &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">*    &lt;title&gt;ECharts&lt;/title&gt;</span><br><span class="line">*    &lt;!-- 引入 echarts.js --&gt;</span><br><span class="line">*&lt;script src=&quot;https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts-en.common.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">*&lt;/head&gt;</span><br><span class="line">*&lt;body&gt;</span><br><span class="line">*    &lt;!-- 为ECharts准备一个具备大小（宽高）的Dom --&gt;</span><br><span class="line">*    &lt;div id=&quot;main&quot; style=&quot;width: 600px;height:400px;&quot;&gt;&lt;/div&gt;</span><br><span class="line">*    &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">*        // 基于准备好的dom，初始化echarts实例</span><br><span class="line">*        var myChart = echarts.init(document.getElementById(&apos;main&apos;));</span><br><span class="line">*</span><br><span class="line">*        // 指定图表的配置项和数据</span><br><span class="line">*        var option = &#123;</span><br><span class="line">*            title: &#123;</span><br><span class="line">*                text: &apos;ECharts 入门示例&apos;</span><br><span class="line">*            &#125;,</span><br><span class="line">*            tooltip: &#123;&#125;,</span><br><span class="line">*            legend: &#123;</span><br><span class="line">*                data:[&apos;销量&apos;]</span><br><span class="line">*            &#125;,</span><br><span class="line">*            xAxis: &#123;</span><br><span class="line">*                data: [&quot;衬衫&quot;,&quot;羊毛衫&quot;,&quot;雪纺衫&quot;,&quot;裤子&quot;,&quot;高跟鞋&quot;,&quot;袜子&quot;]</span><br><span class="line">*            &#125;,</span><br><span class="line">*            yAxis: &#123;&#125;,</span><br><span class="line">*            series: [&#123;</span><br><span class="line">*                name: &apos;销量&apos;,</span><br><span class="line">*                type: &apos;bar&apos;,</span><br><span class="line">*                data: [5, 20, 36, 10, 10, 20]</span><br><span class="line">*            &#125;]</span><br><span class="line">*        &#125;;</span><br><span class="line">*</span><br><span class="line">*        // 使用刚指定的配置项和数据显示图表。</span><br><span class="line">*        myChart.setOption(option);</span><br><span class="line">*    &lt;/script&gt;</span><br><span class="line">*&lt;/body&gt;</span><br><span class="line">*&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">    EDIT_DATA( ).</span><br><span class="line">    ME-&gt;V_HTML =</span><br><span class="line">|&lt;!DOCTYPE html&gt;| &amp;&amp;</span><br><span class="line">|&lt;html&gt;| &amp;&amp;</span><br><span class="line">|&lt;head&gt;| &amp;&amp;</span><br><span class="line">|    &lt;meta charset=&quot;utf-8&quot;&gt;| &amp;&amp;</span><br><span class="line">|    &lt;title&gt;ECharts&lt;/title&gt;| &amp;&amp;</span><br><span class="line">|&lt;script src=&quot;https://cdn.bootcss.com/echarts/4.2.0-rc.2/echarts-en.common.js&quot;&gt;&lt;/script&gt;| &amp;&amp;</span><br><span class="line">|&lt;/head&gt;| &amp;&amp;</span><br><span class="line">|&lt;body&gt;| &amp;&amp;</span><br><span class="line">|    &lt;div id=&quot;main&quot; style=&quot;width: 600px;height:400px;&quot;&gt;&lt;/div&gt;| &amp;&amp;</span><br><span class="line">|    &lt;script type=&quot;text/javascript&quot;&gt;| &amp;&amp;</span><br><span class="line">|        var myChart = echarts.init(document.getElementById(&apos;main&apos;));| &amp;&amp;</span><br><span class="line"></span><br><span class="line">|        var option = \&#123; | &amp;&amp;</span><br><span class="line">|            title: \&#123;| &amp;&amp;</span><br><span class="line">|                text: &apos;ECharts 入门示例&apos;| &amp;&amp;</span><br><span class="line">|            \&#125;,| &amp;&amp;</span><br><span class="line">|            tooltip: \&#123;\&#125;,| &amp;&amp;</span><br><span class="line">|            legend: \&#123;| &amp;&amp;</span><br><span class="line">|                data:[&apos;销量&apos;]| &amp;&amp;</span><br><span class="line">|            \&#125;,| &amp;&amp;</span><br><span class="line">|            xAxis: \&#123;| &amp;&amp;</span><br><span class="line">|           data:[|   &amp;&amp;</span><br><span class="line">            REDUCE string( INIT list type string</span><br><span class="line">                                sep = ``</span><br><span class="line">                           FOR wa in me-&gt;T_DATA</span><br><span class="line">                           NEXT list = list &amp;&amp; |&#123; sep &#125;&quot;&#123; wa-name &#125;&quot;|</span><br><span class="line">                                sep = `,`</span><br><span class="line">            ) &amp;&amp;</span><br><span class="line">|]| &amp;&amp;</span><br><span class="line">|           \&#125;,| &amp;&amp;</span><br><span class="line">|            yAxis: \&#123;\&#125;,| &amp;&amp;</span><br><span class="line">|            series: [\&#123;| &amp;&amp;</span><br><span class="line">|                name: &apos;销量&apos;,| &amp;&amp;</span><br><span class="line">|                type: &apos;bar&apos;,| &amp;&amp;</span><br><span class="line">|           data:[|   &amp;&amp;</span><br><span class="line">            REDUCE string( INIT list type string</span><br><span class="line">                                sep = ``</span><br><span class="line">                           FOR wa in me-&gt;T_DATA</span><br><span class="line">                           NEXT list = list &amp;&amp; |&#123; sep &#125;&quot;&#123; wa-qty &#125;&quot;|</span><br><span class="line">                                sep =  `,`</span><br><span class="line">            ) &amp;&amp;</span><br><span class="line">|]| &amp;&amp;</span><br><span class="line"></span><br><span class="line">|            \&#125;]| &amp;&amp;</span><br><span class="line">|        \&#125;;| &amp;&amp;</span><br><span class="line">|        myChart.setOption(option);| &amp;&amp;</span><br><span class="line">|    &lt;/script&gt;| &amp;&amp;</span><br><span class="line">|&lt;/body&gt;| &amp;&amp;</span><br><span class="line">|&lt;/html&gt;|.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  METHOD SHOW_HTML.</span><br><span class="line">    CL_ABAP_BROWSER=&gt;SHOW_HTML(</span><br><span class="line">      HTML_STRING  = ME-&gt;V_HTML</span><br><span class="line">      BUTTONS      = CL_ABAP_BROWSER=&gt;NAVIGATE_HTML</span><br><span class="line">      CONTEXT_MENU = ABAP_TRUE</span><br><span class="line">      CHECK_HTML   = ABAP_FALSE ).</span><br><span class="line">  ENDMETHOD.</span><br><span class="line"></span><br><span class="line">ENDCLASS.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">START-OF-SELECTION.</span><br><span class="line"></span><br><span class="line">  DATA:</span><br><span class="line">    LO_HTML_SHOWER TYPE REF TO LCL_HTML_SHOWER.</span><br><span class="line"></span><br><span class="line">  LO_HTML_SHOWER = LCL_HTML_SHOWER=&gt;FACTORY( ).</span><br><span class="line"></span><br><span class="line">  LO_HTML_SHOWER-&gt;SHOW_HTML( ).</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> ABAP </tag>
            
            <tag> EChart </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown时序图示例</title>
      <link href="/2019/01/01/Markdown%E6%97%B6%E5%BA%8F%E5%9B%BE%E7%A4%BA%E4%BE%8B/"/>
      <url>/2019/01/01/Markdown%E6%97%B6%E5%BA%8F%E5%9B%BE%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h1 id="序列图-sequence-diagram"><a href="#序列图-sequence-diagram" class="headerlink" title="序列图(sequence diagram)"></a>序列图(sequence diagram)</h1><h2 id="时序图解读"><a href="#时序图解读" class="headerlink" title="时序图解读"></a>时序图解读</h2><p>时序图（Sequence Diagram）是显示对象之间交互的图，这些对象是按时间顺序排列的。顺序图中显示的是参与交互的对象及其对象之间消息交互的顺序。时序图中包括的建模元素主要有：对象（Actor）、生命线（Lifeline）、控制焦点（Focus of control）、消息（Message）等等</p><ul><li>角色（Actor）<ul><li>系统角色，可以是人、及其甚至其他的系统或者子系统。</li></ul></li><li>对象（Object）<ul><li>对象包括三种命名方式：<ul><li>第一种方式包括对象名和类名；</li><li>第二中方式只显示类名不显示对象名，即表示他是一个匿名对象；</li><li>第三种方式只显示对象名不显示类明。</li></ul></li></ul></li><li>生命线（Lifeline）<ul><li>生命线在顺序图中表示为从对象图标向下延伸的一条虚线，表示对象存在的时间</li></ul></li><li>控制焦点（Focus of Control）<ul><li>控制焦点是顺序图中表示时间段的符号，在这个时间段内对象将执行相应的操作。用小矩形表示</li></ul></li><li>消息（Message）<ul><li>消息一般分为三种<ul><li>同步消息（Synchronous Message）：消息的发送者把控制传递给消息的接收者，然后停止活动，等待消息的接收者放弃或者返回控制。用来表示同步的意义。（就是程序中的调用）</li><li>异步消息（Asynchronous Message）：消息发送者通过消息把信号传递给消息的接收者，然后继续自己的活动，不等待接受者返回消息或者控制。异步消息的接收者和发送者是并发工作的。（就是程序中发消息给消息队列的操作）</li><li>返回消息（Return Message）：返回消息表示从过程调用返回</li></ul></li></ul></li></ul><h2 id="简单sample"><a href="#简单sample" class="headerlink" title="简单sample"></a>简单sample</h2><ul><li><strong>代码</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+</span><br></pre></td></tr></table></figure></li></ul><p>sequenceDiagram<br>　　Alice-&gt;&gt;John: Hello John, how are you ?<br>　　John–&gt;&gt;Alice: Great!<br>　　Alice-&gt;&gt;John: Hung,you are better .<br>　　John–&gt;&gt;Alice: yeah, Just not bad.<br><code>+`</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>sequenceDiagram<br>　　Alice-&gt;&gt;John: Hello John, how are you ?<br>　　John–&gt;&gt;Alice: Great!<br>　　Alice-&gt;&gt;John: Hung,you are better .<br>　　John–&gt;&gt;Alice: yeah, Just not bad.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">## 控制对象的顺序(通过设定参与者(participant)的顺序)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　participant John</span><br><span class="line">　　participant Alice</span><br><span class="line">　　Alice-&gt;&gt;John: Hello John, how are you ?</span><br><span class="line">　　John--&gt;&gt;Alice: Great!</span><br><span class="line">　　Alice-&gt;&gt;John: Hung,you are better .</span><br><span class="line">　　John--&gt;&gt;Alice: yeah, Just not bad.</span><br><span class="line">`+``</span><br></pre></td></tr></table></figure></p><ul><li><strong>效果</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　participant John</span><br><span class="line">　　participant Alice</span><br><span class="line">　　Alice-&gt;&gt;John: Hello John, how are you ?</span><br><span class="line">　　John--&gt;&gt;Alice: Great!</span><br><span class="line">　　Alice-&gt;&gt;John: Hung,you are better .</span><br><span class="line">　　John--&gt;&gt;Alice: yeah, Just not bad.</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="实线或者虚线的使用"><a href="#实线或者虚线的使用" class="headerlink" title="实线或者虚线的使用"></a>实线或者虚线的使用</h2><ul><li><strong>代码</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+</span><br></pre></td></tr></table></figure></li></ul><p>sequenceDiagram<br>    Alice-&gt;John:连接线<br>    John–&gt;Alice:返回连接线<br>    Alice-&gt;&gt;John: 发送同步调用消息<br>    John–&gt;&gt;Alice:返回同步消息<br>    Alice-xJohn: 发送异步调用消息<br>    John–xAlice: 返回异步消息<br>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>sequenceDiagram<br>    Alice-&gt;John:连接线<br>    John–&gt;Alice:返回连接线<br>    Alice-&gt;&gt;John: 发送同步调用消息<br>    John–&gt;&gt;Alice:返回同步消息<br>    Alice-xJohn: 发送异步调用消息<br>    John–xAlice: 返回异步消息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">标记分类</span><br><span class="line">- 代表实线 ， 主动发送消息，比如 request请求</span><br><span class="line">&gt; 代表实心箭头 ， 同步消息，比如 AJAX 的同步请求</span><br><span class="line">&gt; -- 代表虚线，表示返回消息，spring Controller return</span><br><span class="line">&gt;</span><br><span class="line">&gt; &gt; 代表非实心箭头 ，异步消息，比如AJAX请求</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 便签</span><br><span class="line">+ **代码**&lt;br&gt;</span><br><span class="line">  具体规则</span><br><span class="line">  &lt;font color = red&gt;Note&lt;/font&gt; [right of | left of ]&lt;font color = red&gt; 对象:&lt;/font&gt;文本</span><br></pre></td></tr></table></figure><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　participant John</span><br><span class="line">　　Note left of John: Text in note</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>　　participant John<br>　　Note left of John: Text in note<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 跨越两个Actor的便签</span><br><span class="line">+ **代码**&lt;br&gt;</span><br><span class="line">  具体规则</span><br><span class="line">  &lt;font color = red&gt;Note&lt;/font&gt; [over]&lt;font color = red&gt; 对象A,对象B:&lt;/font&gt;文本</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">Alice-&gt;&gt;John:Hello John, how are you?</span><br><span class="line">Note over Alice,John:A typical interaction</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>Alice-&gt;&gt;John:Hello John, how are you?<br>Note over Alice,John:A typical interaction<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">## 循环Loops</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　Alice-&gt;&gt;John: Hello!</span><br><span class="line">　　loop 循环逻辑</span><br><span class="line">　　　　John-&gt;&gt;Alice:Great!</span><br><span class="line">　　end</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>　　Alice-&gt;&gt;John: Hello!<br>　　loop 循环逻辑<br>　　　　John-&gt;&gt;Alice:Great!<br>　　end<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">## 选择ALT</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　Alice-&gt;&gt;Bob: are you OK?</span><br><span class="line">　　alt not well</span><br><span class="line">　　　　Bob-&gt;&gt;Alice:not so good :(</span><br><span class="line">　　else is OK</span><br><span class="line">　　　　Bob-&gt;&gt;Alice:Feeling fresh like a daisy:)</span><br><span class="line">　　end</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>　　Alice-&gt;&gt;Bob: are you OK?<br>　　alt not well<br>　　　　Bob-&gt;&gt;Alice:not so good :(<br>　　else is OK<br>　　　　Bob-&gt;&gt;Alice:Feeling fresh like a daisy:)<br>　　end<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line">## 可选opt</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　Alice-&gt;&gt;Bob: Hello Bob, how are you?</span><br><span class="line">　　opt Extra response</span><br><span class="line">　　　　Bob--&gt;&gt;Alice:Thanks for asking</span><br><span class="line">　　end</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>　　Alice-&gt;&gt;Bob: Hello Bob, how are you?<br>　　opt Extra response<br>　　　　Bob–&gt;&gt;Alice:Thanks for asking<br>　　end</p><h2 id=""><a href="#" class="headerlink" title="`"></a><code>`</code></h2>]]></content>
      
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Markdown语法示例</title>
      <link href="/2019/01/01/Markdown%E8%AF%AD%E6%B3%95%E7%A4%BA%E4%BE%8B/"/>
      <url>/2019/01/01/Markdown%E8%AF%AD%E6%B3%95%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<p><font size="5" face="黑体">目录</font><br></p><p>[TOC]</p><h1 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">《十一种孤独》[^3]是一本描写低端人口[^1]xxx</span><br><span class="line">[^3]: 一本书名</span><br><span class="line">[^1]: 低端人口</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br>《十一种孤独》<a href="一本书名">^3</a>是一本描写低端人口<a href="低端人口">^1</a>xxx</p></li></ul><hr><h1 id="字符样式"><a href="#字符样式" class="headerlink" title="字符样式"></a>字符样式</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">- [ ] 注意前中后的空格</span><br><span class="line">- [x] 有时候不是很方便</span><br><span class="line">- [] ~~像这样~~</span><br><span class="line">- [ ] ~~应该是这样~~&lt;br&gt;</span><br><span class="line">*&amp;nbsp;&amp;nbsp;斜体字符*&lt;br&gt;</span><br><span class="line">**粗体字符**&lt;br&gt;</span><br><span class="line">~~删除线的文字~~&lt;br&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br></p></li></ul><ul><li style="list-style: none"><input type="checkbox"> 注意前中后的空格</li><li style="list-style: none"><input type="checkbox" checked> 有时候不是很方便</li><li>[] <del>像这样</del></li><li style="list-style: none"><input type="checkbox"> <del>应该是这样</del><br><br><em>&nbsp;&nbsp;斜体字符</em><br><br><strong>粗体字符</strong><br><br><del>删除线的文字</del><br></li></ul><hr><h1 id="字体调整"><a href="#字体调整" class="headerlink" title="字体调整"></a>字体调整</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;font face=&quot;黑体&quot;&gt;我是黑体字&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font face=&quot;微软雅黑&quot;&gt;我是微软雅黑&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font face=&quot;STCAIYUN&quot;&gt;我是华文彩云&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font color=#0099ff size=7 face=&quot;黑体&quot;&gt;color=#0099ff size=72 face=&quot;黑体&quot;&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font color=#00ffff size=72&gt;color=#00ffff&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;font color=gray size=3&gt;Size：规定文本的尺寸大小。可能的值：从 1 到 7 的数字。浏览器默认值是3&lt;/font&gt;&lt;br&gt;</span><br><span class="line">&lt;table&gt;&lt;tr&gt;&lt;td bgcolor=orange&gt;背景色是：orange但有道不支持&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br><font face="黑体">我是黑体字</font><br><br><font face="微软雅黑">我是微软雅黑</font><br><br><font face="STCAIYUN">我是华文彩云</font><br><br><font color="#0099ff" size="3" face="黑体">color=#0099ff size=72 face=”黑体”</font><br><br><font color="#00ffff" size="3">color=#00ffff</font><br><br><font color="gray" size="3">Size：规定文本的尺寸大小。可能的值：从 1 到 7 的数字。浏览器默认值是3</font><br></p><table><tr><td bgcolor="orange">背景色是：orange但有道不支持</td></tr></table></li></ul><hr><h1 id="缩进"><a href="#缩进" class="headerlink" title="缩进"></a>缩进</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一个字：全方大的空白&amp;emsp;或&amp;#8195;空白&lt;br&gt;</span><br><span class="line">½个字：半方大的空白&amp;ensp;或&amp;#8194;空白&lt;br&gt;</span><br><span class="line">⅓个字：不断行的空白&amp;nbsp;或&amp;#160;空白&lt;br&gt;</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br>一个字：全方大的空白&emsp;或&#8195;空白<br><br>½个字：半方大的空白&ensp;或&#8194;空白<br><br>⅓个字：不断行的空白&nbsp;或&#160;空白<br></p></li></ul><hr><h1 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![这里写图片描述](http://img3.douban.com/mpic/s1108264.jpg)</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br><img src="http://img3.douban.com/mpic/s1108264.jpg" alt="这里写图片描述"></p></li></ul><hr><h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">This is an [link](http://example.com/).</span><br><span class="line">I get 10 times more traffic from [Google][1] than from [Yahoo][2] or [MSN][3].  </span><br><span class="line"></span><br><span class="line">[1]: http://google.com/ </span><br><span class="line">[2]: http://search.yahoo.com/ </span><br><span class="line">[3]: http://search.msn.com/</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br>This is an <a href="http://example.com/" target="_blank" rel="noopener">link</a>.<br>I get 10 times more traffic from <a href="http://google.com/" target="_blank" rel="noopener">Google</a> than from <a href="http://search.yahoo.com/" target="_blank" rel="noopener">Yahoo</a> or <a href="http://search.msn.com/" target="_blank" rel="noopener">MSN</a>.  </p></li></ul><hr><h1 id="反斜杠转义符"><a href="#反斜杠转义符" class="headerlink" title="反斜杠转义符"></a>反斜杠转义符</h1><ul><li><p><strong>代码</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">\* 字符星号 \*</span><br><span class="line">Markdown 可以利用反斜杠来插入一些在语法中有其它意义的符号</span><br><span class="line">\   反斜线</span><br><span class="line">`   反引号</span><br><span class="line">*   星号</span><br><span class="line">_   底线</span><br><span class="line">&#123;&#125;  花括号</span><br><span class="line">[]  方括号</span><br><span class="line">()  括弧</span><br><span class="line">#   井字号</span><br><span class="line">+   加号</span><br><span class="line">-   减号</span><br><span class="line">.   英文句点</span><br><span class="line">!   惊叹号</span><br></pre></td></tr></table></figure></li><li><p><strong>效果</strong><br><br>* 字符星号 *</p></li></ul><hr><h1 id="流程图-有道支持"><a href="#流程图-有道支持" class="headerlink" title="流程图(有道支持)"></a>流程图(有道支持)</h1><ul><li><strong>代码</strong><br></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TB，从上到下</span><br><span class="line">TD，从上到下</span><br><span class="line">BT，从下到上</span><br><span class="line">RL，从右到左</span><br><span class="line">LR，从左到右</span><br><span class="line">+</span><br></pre></td></tr></table></figure><p>graph TD<br>      B((开始))<br>      B–&gt;C(圆角方框)<br>      C-.-&gt;J(虚线)<br>      J-.标签.-&gt;K(虚线标签)<br>      B—D[方脚方框]<br>      D==&gt;H[粗线]<br>      H==标签==&gt;I[粗线标签]<br>      B–标签—E{yes or no}<br>      E-.-&gt;|yes| G&gt;非对称节点]<br>      E–&gt;|no|B<br>      G–标签–&gt;F((结束))<br>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>graph TD<br>      B((开始))<br>      B–&gt;C(圆角方框)<br>      C-.-&gt;J(虚线)<br>      J-.标签.-&gt;K(虚线标签)<br>      B—D[方脚方框]<br>      D==&gt;H[粗线]<br>      H==标签==&gt;I[粗线标签]<br>      B–标签—E{yes or no}<br>      E-.-&gt;|yes| G&gt;非对称节点]<br>      E–&gt;|no|B<br>      G–标签–&gt;F((结束))<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"># subgraph（子图）(有道支持)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">  subgraph g1</span><br><span class="line">    a1--&gt;b1</span><br><span class="line">  end</span><br><span class="line">  subgraph g2</span><br><span class="line">    a2--&gt;b2</span><br><span class="line">  end</span><br><span class="line">  subgraph g3</span><br><span class="line">    a3--&gt;b3</span><br><span class="line">  end</span><br><span class="line">  a3--&gt;a2</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>graph LR<br>  subgraph g1<br>    a1–&gt;b1<br>  end<br>  subgraph g2<br>    a2–&gt;b2<br>  end<br>  subgraph g3<br>    a3–&gt;b3<br>  end<br>  a3–&gt;a2<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"># 时序图(有道支持)</span><br><span class="line">具体详解请参照[时序图详解](http://note.youdao.com/noteshare?id=82dc781024110d7094f91c40f0ec73ad&amp;sub=5942A3BDD72A48BF9A866A398B7C772B)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line">　　　participant 张三</span><br><span class="line">　　　participant 李四</span><br><span class="line">　　　张三-&gt;赵五:Hello 赵五, how are you?</span><br><span class="line">　　　loop Healthcheck</span><br><span class="line">　　　　　赵五-&gt;赵五:Fight against hypochondria</span><br><span class="line">　　　end</span><br><span class="line">　　　Note right of 赵五:Rational thoughts &lt;br/&gt;prevail...</span><br><span class="line">　　　赵五--&gt;张三:Great!</span><br><span class="line">　　　赵五-&gt;李四: How about you?</span><br><span class="line">　　　李四--&gt;赵五: Jolly good!</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>sequenceDiagram<br>　　　participant 张三<br>　　　participant 李四<br>　　　张三-&gt;赵五:Hello 赵五, how are you?<br>　　　loop Healthcheck<br>　　　　　赵五-&gt;赵五:Fight against hypochondria<br>　　　end<br>　　　Note right of 赵五:Rational thoughts <br>prevail…<br>　　　赵五–&gt;张三:Great!<br>　　　赵五-&gt;李四: How about you?<br>　　　李四–&gt;赵五: Jolly good!<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 甘特图(有道支持)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line">　　　dateFormat　YYYY-MM-DD</span><br><span class="line">　　　title 这里写标题</span><br><span class="line">　　　section 预定日程</span><br><span class="line">　　　完成task   :done,   des1, 2014-01-06,2014-01-08</span><br><span class="line">　　　处理中task :active, des2, 2014-01-09, 3d</span><br><span class="line">　　　未来task1　:　　　  des3, after des2, 5d</span><br><span class="line">　　　未来task2　:　　　  des4, after des3, 5d</span><br><span class="line">　　　</span><br><span class="line">　　　section 紧急日程</span><br><span class="line">　　　紧急完成task　    :crit, done, 2014-01-06,24h</span><br><span class="line">　　　紧急预定task之后　:crit, done, after des1, 2d</span><br><span class="line">　　　测试　　　　　　　:crit, active, 3d</span><br><span class="line">　　　未来task1       　:crit, 5d</span><br><span class="line">　　　未来task2     　　:2d</span><br><span class="line">　　　未来task3       　:1d</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+ **效果**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>gantt<br>　　　dateFormat　YYYY-MM-DD<br>　　　title 这里写标题<br>　　　section 预定日程<br>　　　完成task   :done,   des1, 2014-01-06,2014-01-08<br>　　　处理中task :active, des2, 2014-01-09, 3d<br>　　　未来task1　:　　　  des3, after des2, 5d<br>　　　未来task2　:　　　  des4, after des3, 5d<br>　　　<br>　　　section 紧急日程<br>　　　紧急完成task　    :crit, done, 2014-01-06,24h<br>　　　紧急预定task之后　:crit, done, after des1, 2d<br>　　　测试　　　　　　　:crit, active, 3d<br>　　　未来task1       　:crit, 5d<br>　　　未来task2     　　:2d<br>　　　未来task3       　:1d<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"># UML图(有道不支持)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure></p><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">张三-&gt;李四: 嘿，小四儿, 写博客了没?</span><br><span class="line">Note right of 李四: 李四愣了一下，说：</span><br><span class="line">李四--&gt;张三: 忙得吐血，哪有时间写。</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br><span class="line">  ![4](https://note.youdao.com/yws/public/resource/6d8875e5a015a2531827e3d1b3043da5/xmlnote/6CAE96D148C149E3940BAF36AA942321/10830)</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 流程图(有道不支持)</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure><p>+<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: 开始</span><br><span class="line">e=&gt;end: 登录 </span><br><span class="line">io1=&gt;inputoutput: 输入用户名密码 </span><br><span class="line">sub1=&gt;subroutine: 数据库查询子类 </span><br><span class="line">cond=&gt;condition: 是否有此用户 </span><br><span class="line">cond2=&gt;condition: 密码是否正确 </span><br><span class="line">op=&gt;operation: 读入用户信息</span><br><span class="line">st-&gt;io1-&gt;sub1-&gt;cond</span><br><span class="line">cond(yes,right)-&gt;cond2</span><br><span class="line">cond(no)-&gt;io1(right)</span><br><span class="line">cond2(yes,right)-&gt;op-&gt;e</span><br><span class="line">cond2(no)-&gt;io1</span><br><span class="line">+</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ **效果**&lt;br&gt;</span><br><span class="line">  ![5](https://note.youdao.com/yws/public/resource/6d8875e5a015a2531827e3d1b3043da5/xmlnote/938C79ACD12F4BFAB59720FF9C6D77DD/10850)</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># 锚点</span><br><span class="line">+ **代码**&lt;br&gt;</span><br></pre></td></tr></table></figure><p><a href="#1">目录</a><br><br><span id="1">//跳转到这里<br><code>`</code></span></p><ul><li><strong>效果</strong><br><br><a href="#1">目录</a><br><br><span id="1">//跳转到这里</span></li></ul><hr>]]></content>
      
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何使用Github+Hexo搭建个人博客</title>
      <link href="/2019/01/01/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Github-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2019/01/01/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Github-Hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>[TOC]</p><h2 id="1-需要安装的软件"><a href="#1-需要安装的软件" class="headerlink" title="1. 需要安装的软件"></a>1. 需要安装的软件</h2><ol><li>安装 Node.js <a href="https://nodejs.org/en/" target="_blank" rel="noopener">下载Node.js</a></li><li>安装 Git <a href="https://github.com/waylau/git-for-win" target="_blank" rel="noopener">下载Git</a></li><li>安装Hexo，1和2装完成后，即可使用 npm 安装 Hexo。<code>$ npm install -g hexo-cli</code></li></ol><h2 id="2-Git配置"><a href="#2-Git配置" class="headerlink" title="2. Git配置"></a>2. Git配置</h2><ol><li>配置Github的账号和密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name &quot;jackychen88&quot;</span><br><span class="line">$ git config --global user.email &quot;chenlongxxxx@126.com&quot;</span><br></pre></td></tr></table></figure></li></ol><p><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101093448.png" alt="Git Bash配置账号"></p><h2 id="3-配置Github的repositories"><a href="#3-配置Github的repositories" class="headerlink" title="3. 配置Github的repositories"></a>3. 配置Github的repositories</h2><ol><li>新建Github网站资源库<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101101148.png" alt="创建Github的网站资源库"></li><li>重命名资源库名，以后次名字可以直接通过url来访问<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101101352.png" alt="配置Github的资源库名"></li><li>配置Github Pages<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101101619.png" alt="配置Github Pages"></li></ol><ol start="4"><li>获取网页部署url,下面步骤的配置文件_config.yml文件中配置的网址<br><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101101817.png" alt="取网页部署url"></li></ol><h2 id="4-设定本地电脑Blog文件源码仓库"><a href="#4-设定本地电脑Blog文件源码仓库" class="headerlink" title="4. 设定本地电脑Blog文件源码仓库"></a>4. 设定本地电脑Blog文件源码仓库</h2><ol><li><p>在任意磁盘处新建一个空文件夹作为我们Blog的代码仓库，例如G:\GitHub\Blog</p></li><li><p>在G:\GitHub\Blog里右键选择Git Bash here进入Git 命令输入界面</p></li><li><p>初始化Blog代码<code>$ hexo init blog</code>,稍微等待一会，加载速度比较慢，提示成功后会在G:\GitHub\Blog下生成几个文件夹和文件<br><br>  <img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101094722.png" alt="hexo初始化"></p></li><li><p>配置Blog的配置文件_config.yml文件，修改参数信息，以便以后每次新建内容的时候带出一些预设值，和能mapping上我们的github（<strong>特别提醒，在每个参数的：后都要加一个空格</strong>）</p><ol><li>修改Blog的标题和作者信息</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: Jacky&apos;s Blog</span><br><span class="line">subtitle: Programer for ABAP</span><br><span class="line">description: </span><br><span class="line">keywords:</span><br><span class="line">author: Jacky chen</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: Asia/Shanghai</span><br></pre></td></tr></table></figure><ol start="2"><li>new_post_name每次新建时的md文件名，带出年月日一边管理</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new_post_name: :year-:month-:day-:title.md # File name of new posts</span><br><span class="line">default_layout: post</span><br></pre></td></tr></table></figure><ol start="3"><li>deploy 用来关联hexo deploy时推送到github的资源仓链接（上面创建github的网址）</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/Jackychen88/jackychen88.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure></li><li><p>发表博客文章，使用下面命令后会在G:\GitHub\Blog\source_posts下自动生产一个md文件,生成后可自行修改md的内容，其实就是在更新Blog内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new &quot;如何使用Github+Hexo搭建个人博客&quot;</span><br></pre></td></tr></table></figure></li><li><p>编译并测试Blog是否能在本地运行,运行完下面命令后可以在<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 中查看Blog是否正常运行</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo generate</span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-推送至Github的资源仓库"><a href="#5-推送至Github的资源仓库" class="headerlink" title="5. 推送至Github的资源仓库"></a>5. 推送至Github的资源仓库</h2><ol><li>本地编译成功后推送到Github的资源仓库中去 （<strong>如果在执行 hexo deploy 后,出现 error deployer not found:github 的错误<code>npm install hexo-deployer-git --save</code></strong>）</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/Jackychen88/Picture/master/20190101102411.png" alt="推送内容到github"><br>至此，就可以直接用<a href="https://jackychen88.github.io">https://jackychen88.github.io</a> 这个url访问blog了</p><h2 id="5-推送Blog源码到Github资源库"><a href="#5-推送Blog源码到Github资源库" class="headerlink" title="5. 推送Blog源码到Github资源库"></a>5. 推送Blog源码到Github资源库</h2><ol><li>为了能在不同电脑上都能方便的去发布Blog，可以将Blog的源码也推送到Github上去，主要有以下几个步骤<ol><li>github上创建blog源码的资源库</li><li>在本地使用<code>git init</code>来跟踪源码文件夹下的所有文件</li><li><code>git add .</code>增加文件</li><li><code>git commit -m &quot;提交描述&quot;</code>来commit修改</li><li><code>git remote add blog https://github.com/Jackychen88/Blog.git</code>来添加访问资源库的链接，注意blog可以自己命名</li><li><code>git push blog master</code> 推送次文件夹内容到github对应仓库，注意若推送失败尝试先获取罪行github的资源仓内容<code>git pull blog master</code></li></ol></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一篇博客</title>
      <link href="/2018/12/31/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
      <url>/2018/12/31/%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>折腾了半天，个人博客终于搭建成功了，为表庆祝，放上女儿的靓照<img src="https://raw.githubusercontent.com/Jackychen88/Blog/master/source/_posts/2018-12-31-%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2.assets/1546272001337.png" alt="1546272001337"></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
